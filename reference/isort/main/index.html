



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Main - isort</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#module-isortmain" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="isort" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              isort
            </span>
            <span class="md-header-nav__topic">
              
                Main
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/timothycrosley/isort/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    isort
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="isort" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    isort
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/timothycrosley/isort/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    isort
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../CHANGELOG/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docs/contributing/1.-contributing-guide/" title="1. Contributing Guide" class="md-nav__link">
      1. Contributing Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docs/contributing/2.-coding-standard/" title="2. Coding Standard" class="md-nav__link">
      2. Coding Standard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docs/contributing/3.-code-of-conduct/" title="3. Code Of Conduct" class="md-nav__link">
      3. Code Of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docs/contributing/4.-acknowledgements/" title="4. Acknowledgements" class="md-nav__link">
      4. Acknowledgements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1" checked>
    
    <label class="md-nav__link" for="nav-4-1">
      Isort
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Isort
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../compat/" title="Compat" class="md-nav__link">
      Compat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../finders/" title="Finders" class="md-nav__link">
      Finders
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../format/" title="Format" class="md-nav__link">
      Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hooks/" title="Hooks" class="md-nav__link">
      Hooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../isort/" title="Isort" class="md-nav__link">
      Isort
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Main
      </label>
    
    <a href="./" title="Main" class="md-nav__link md-nav__link--active">
      Main
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_python_file" class="md-nav__link">
    is_python_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iter_source_code" class="md-nav__link">
    iter_source_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_args" class="md-nav__link">
    parse_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_imports" class="md-nav__link">
    sort_imports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isortcommand" class="md-nav__link">
    ISortCommand
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#announce" class="md-nav__link">
    announce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_file" class="md-nav__link">
    copy_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_tree" class="md-nav__link">
    copy_tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug_print" class="md-nav__link">
    debug_print
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribution_files" class="md-nav__link">
    distribution_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump_options" class="md-nav__link">
    dump_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_dirname" class="md-nav__link">
    ensure_dirname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_filename" class="md-nav__link">
    ensure_filename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_finalized" class="md-nav__link">
    ensure_finalized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_string" class="md-nav__link">
    ensure_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_string_list" class="md-nav__link">
    ensure_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute" class="md-nav__link">
    execute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalize_options" class="md-nav__link">
    finalize_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_command_name" class="md-nav__link">
    get_command_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_finalized_command" class="md-nav__link">
    get_finalized_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_sub_commands" class="md-nav__link">
    get_sub_commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize_options" class="md-nav__link">
    initialize_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_archive" class="md-nav__link">
    make_archive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_file" class="md-nav__link">
    make_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkpath" class="md-nav__link">
    mkpath
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move_file" class="md-nav__link">
    move_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinitialize_command" class="md-nav__link">
    reinitialize_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_command" class="md-nav__link">
    run_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_undefined_options" class="md-nav__link">
    set_undefined_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawn" class="md-nav__link">
    spawn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warn" class="md-nav__link">
    warn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortattempt" class="md-nav__link">
    SortAttempt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../natural/" title="Natural" class="md-nav__link">
      Natural
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pylama_isort/" title="Pylama Isort" class="md-nav__link">
      Pylama Isort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utils/" title="Utils" class="md-nav__link">
      Utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-12" type="checkbox" id="nav-4-1-12">
    
    <label class="md-nav__link" for="nav-4-1-12">
      Stdlibs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-12">
        Stdlibs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stdlibs/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stdlibs/py27/" title="Py27" class="md-nav__link">
      Py27
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stdlibs/py3/" title="Py3" class="md-nav__link">
      Py3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_python_file" class="md-nav__link">
    is_python_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iter_source_code" class="md-nav__link">
    iter_source_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    main
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_args" class="md-nav__link">
    parse_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_imports" class="md-nav__link">
    sort_imports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isortcommand" class="md-nav__link">
    ISortCommand
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ancestors-in-mro" class="md-nav__link">
    Ancestors (in MRO)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#announce" class="md-nav__link">
    announce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_file" class="md-nav__link">
    copy_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_tree" class="md-nav__link">
    copy_tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug_print" class="md-nav__link">
    debug_print
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distribution_files" class="md-nav__link">
    distribution_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump_options" class="md-nav__link">
    dump_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_dirname" class="md-nav__link">
    ensure_dirname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_filename" class="md-nav__link">
    ensure_filename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_finalized" class="md-nav__link">
    ensure_finalized
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_string" class="md-nav__link">
    ensure_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensure_string_list" class="md-nav__link">
    ensure_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execute" class="md-nav__link">
    execute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalize_options" class="md-nav__link">
    finalize_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_command_name" class="md-nav__link">
    get_command_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_finalized_command" class="md-nav__link">
    get_finalized_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_sub_commands" class="md-nav__link">
    get_sub_commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize_options" class="md-nav__link">
    initialize_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_archive" class="md-nav__link">
    make_archive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_file" class="md-nav__link">
    make_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkpath" class="md-nav__link">
    mkpath
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move_file" class="md-nav__link">
    move_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinitialize_command" class="md-nav__link">
    reinitialize_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_command" class="md-nav__link">
    run_command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_undefined_options" class="md-nav__link">
    set_undefined_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawn" class="md-nav__link">
    spawn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warn" class="md-nav__link">
    warn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortattempt" class="md-nav__link">
    SortAttempt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/timothycrosley/isort/edit/master/reference/isort/main.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="module-isortmain">Module isort.main</h1>
<p>Tool for sorting imports alphabetically, and automatically separated into sections.</p>
<p>Copyright (C) 2013  Timothy Edmund Crosley</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
documentation files (the "Software"), to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and
to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or
substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF
CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="s2">&quot;&quot;&quot;  Tool for sorting imports alphabetically, and automatically separated into sections.</span>

<span class="s2">Copyright (C) 2013  Timothy Edmund Crosley</span>

<span class="s2">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated</span>

<span class="s2">documentation files (the &quot;</span><span class="nv">Software</span><span class="s2">&quot;), to deal in the Software without restriction, including without limitation</span>

<span class="s2">the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and</span>

<span class="s2">to permit persons to whom the Software is furnished to do so, subject to the following conditions:</span>

<span class="s2">The above copyright notice and this permission notice shall be included in all copies or</span>

<span class="s2">substantial portions of the Software.</span>

<span class="s2">THE SOFTWARE IS PROVIDED &quot;</span><span class="nv">AS</span> <span class="nv">IS</span><span class="s2">&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED</span>

<span class="s2">TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span>

<span class="s2">THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF</span>

<span class="s2">CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>

<span class="s2">OTHER DEALINGS IN THE SOFTWARE.</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">argparse</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">functools</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">glob</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">os</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">re</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">sys</span>

<span class="s s-Atom">from</span> <span class="s s-Atom">typing</span> <span class="nf">import</span> <span class="p">(</span>

    <span class="nv">Any</span><span class="p">,</span>

    <span class="nv">Dict</span><span class="p">,</span>

    <span class="nv">Iterable</span><span class="p">,</span>

    <span class="nv">Iterator</span><span class="p">,</span>

    <span class="nv">List</span><span class="p">,</span>

    <span class="nv">MutableMapping</span><span class="p">,</span>

    <span class="nv">Optional</span><span class="p">,</span>

    <span class="nv">Sequence</span><span class="p">,</span>

<span class="p">)</span>

<span class="s s-Atom">import</span> <span class="s s-Atom">setuptools</span>

<span class="s s-Atom">from</span> <span class="s s-Atom">isort</span> <span class="s s-Atom">import</span> <span class="nv">SortImports</span><span class="p">,</span> <span class="k">__</span><span class="s s-Atom">version__</span>

<span class="s s-Atom">from</span> <span class="s s-Atom">isort</span><span class="p">.</span><span class="s s-Atom">settings</span> <span class="nf">import</span> <span class="p">(</span>

    <span class="nv">DEFAULT_SECTIONS</span><span class="p">,</span>

    <span class="nv">WrapModes</span><span class="p">,</span>

    <span class="s s-Atom">default</span><span class="p">,</span>

    <span class="s s-Atom">file_should_be_skipped</span><span class="p">,</span>

    <span class="s s-Atom">from_path</span><span class="p">,</span>

<span class="p">)</span>

<span class="nv">INTRO</span> <span class="o">=</span> <span class="s s-Atom">r</span><span class="s2">&quot;&quot;</span><span class="err">&quot;</span>

<span class="s s-Atom">/#######################################################################\</span>

     <span class="err">`</span><span class="s s-Atom">sMMy</span><span class="err">`</span>

     <span class="p">.</span><span class="s s-Atom">yyyy</span><span class="o">-</span>                                                      <span class="err">`</span>

    <span class="s s-Atom">##soos##</span>                                                    <span class="p">.</span><span class="o">/</span><span class="s s-Atom">o</span><span class="p">.</span>

          <span class="err">`</span>     <span class="err">``</span><span class="p">..</span><span class="s s-Atom">-..</span><span class="err">`</span>         <span class="err">``</span><span class="p">...</span><span class="err">`</span><span class="p">.</span><span class="err">``</span>         <span class="err">`</span>   <span class="err">````</span> <span class="err">``</span><span class="o">-</span><span class="s s-Atom">ssso</span><span class="err">```</span>

     <span class="p">.</span><span class="nn">s</span><span class="p">:</span><span class="o">-</span><span class="s s-Atom">y</span><span class="o">-</span>   <span class="p">.</span><span class="o">+</span><span class="s s-Atom">osssssso/.</span>     <span class="p">.</span><span class="o">/</span><span class="s s-Atom">ossss+:so+:</span><span class="err">`</span>    <span class="s s-Atom">:+o-</span><span class="err">`</span><span class="o">/</span><span class="nn">osso</span><span class="p">:</span><span class="o">+</span><span class="s s-Atom">sssssssso</span><span class="o">/</span>

     <span class="p">.</span><span class="nn">s</span><span class="p">:</span><span class="s s-Atom">:y</span><span class="o">-</span>   <span class="s s-Atom">osss+.</span><span class="err">``</span><span class="p">.</span><span class="err">``</span>     <span class="o">-</span><span class="s s-Atom">ssss+-.</span><span class="err">`</span><span class="o">-</span><span class="s s-Atom">ossso</span><span class="err">`</span>   <span class="s s-Atom">ssssso/::..::+</span><span class="nn">ssss</span><span class="p">:</span><span class="s s-Atom">::.</span>

     <span class="p">.</span><span class="nn">s</span><span class="p">:</span><span class="s s-Atom">:y</span><span class="o">-</span>   <span class="o">/</span><span class="s s-Atom">ssss+//:-.</span><span class="err">`</span>   <span class="err">`</span><span class="s s-Atom">ssss</span><span class="o">+</span>     <span class="err">`</span><span class="s s-Atom">ssss</span><span class="o">+</span>   <span class="s s-Atom">sssso</span><span class="err">`</span>       <span class="s s-Atom">:ssss</span><span class="err">`</span>

     <span class="p">.</span><span class="nn">s</span><span class="p">:</span><span class="s s-Atom">:y</span><span class="o">-</span>   <span class="err">`</span><span class="s s-Atom">-/+oossssso</span><span class="o">/</span>  <span class="err">`</span><span class="s s-Atom">ssss</span><span class="o">/</span>      <span class="s s-Atom">sssso</span>   <span class="s s-Atom">ssss</span><span class="o">/</span>        <span class="s s-Atom">:ssss</span><span class="err">`</span>

     <span class="p">.</span><span class="s s-Atom">y-/y</span><span class="o">-</span>       <span class="err">````</span><span class="s s-Atom">:ssss</span><span class="err">`</span>  <span class="s s-Atom">ossso</span><span class="p">.</span>    <span class="s s-Atom">:</span><span class="nn">ssss</span><span class="p">:</span>   <span class="s s-Atom">ssss</span><span class="o">/</span>        <span class="s s-Atom">:ssss</span><span class="p">.</span>

     <span class="err">`</span><span class="o">/</span><span class="nn">so</span><span class="p">:</span><span class="err">`</span>    <span class="err">`</span><span class="s s-Atom">-//::/osss</span><span class="o">+</span>   <span class="err">`</span><span class="o">+</span><span class="s s-Atom">ssss+-/</span><span class="nn">ossso</span><span class="p">:</span>    <span class="o">/</span><span class="s s-Atom">sso</span><span class="o">-</span>        <span class="err">`</span><span class="s s-Atom">osssso/.</span>

       <span class="s s-Atom">\/</span>      <span class="err">`</span><span class="s s-Atom">-/oooo++/-</span>      <span class="p">.</span><span class="s s-Atom">:/++:/++/-</span><span class="err">`</span>      <span class="p">..</span>           <span class="err">`</span><span class="s s-Atom">://++/.</span>

         <span class="s s-Atom">isort</span> <span class="s s-Atom">your</span> <span class="nv">Python</span> <span class="s s-Atom">imports</span> <span class="s s-Atom">for</span> <span class="s s-Atom">you</span> <span class="s s-Atom">so</span> <span class="s s-Atom">you</span> <span class="s s-Atom">don&#39;t have to</span>

<span class="s s-Atom">                            VERSION {}</span>

<span class="s s-Atom">\########################################################################/</span>

<span class="s s-Atom">&quot;&quot;&quot;.format(</span>

<span class="s s-Atom">    __version__</span>

<span class="s s-Atom">)</span>

<span class="s s-Atom">shebang_re = re.compile(br&quot;^#!.*\bpython[23w]?\b&quot;)</span>

<span class="s s-Atom">def is_python_file(path: str) -&gt; bool:</span>

<span class="s s-Atom">    _root, ext = os.path.splitext(path)</span>

<span class="s s-Atom">    if ext in (&quot;.py&quot;, &quot;.pyi&quot;):</span>

<span class="s s-Atom">        return True</span>

<span class="s s-Atom">    if ext in (&quot;.pex&quot;,):</span>

<span class="s s-Atom">        return False</span>

<span class="s s-Atom">    # Skip editor backup files.</span>

<span class="s s-Atom">    if path.endswith(&quot;~&quot;):</span>

<span class="s s-Atom">        return False</span>

<span class="s s-Atom">    try:</span>

<span class="s s-Atom">        with open(path, &quot;rb&quot;) as fp:</span>

<span class="s s-Atom">            line = fp.readline(100)</span>

<span class="s s-Atom">    except OSError:</span>

<span class="s s-Atom">        return False</span>

<span class="s s-Atom">    else:</span>

<span class="s s-Atom">        return bool(shebang_re.match(line))</span>

<span class="s s-Atom">class SortAttempt:</span>

<span class="s s-Atom">    def __init__(self, incorrectly_sorted: bool, skipped: bool) -&gt; None:</span>

<span class="s s-Atom">        self.incorrectly_sorted = incorrectly_sorted</span>

<span class="s s-Atom">        self.skipped = skipped</span>

<span class="s s-Atom">def sort_imports(file_name: str, **arguments: Any) -&gt; Optional[SortAttempt]:</span>

<span class="s s-Atom">    try:</span>

<span class="s s-Atom">        result = SortImports(file_name, **arguments)</span>

<span class="s s-Atom">        return SortAttempt(result.incorrectly_sorted, result.skipped)</span>

<span class="s s-Atom">    except OSError as e:</span>

<span class="s s-Atom">        print(&quot;WARNING: Unable to parse file {} due to {}&quot;.format(file_name, e))</span>

<span class="s s-Atom">        return None</span>

<span class="s s-Atom">def iter_source_code(</span>

<span class="s s-Atom">    paths: Iterable[str], config: MutableMapping[str, Any], skipped: List[str]</span>

<span class="s s-Atom">) -&gt; Iterator[str]:</span>

<span class="s s-Atom">    &quot;&quot;&quot;Iterate over all Python source files defined in paths.&quot;&quot;&quot;</span>

<span class="s s-Atom">    if &quot;not_skip&quot; in config:</span>

<span class="s s-Atom">        config[&quot;skip&quot;] = list(set(config[&quot;skip&quot;]).difference(config[&quot;not_skip&quot;]))</span>

<span class="s s-Atom">    for path in paths:</span>

<span class="s s-Atom">        if os.path.isdir(path):</span>

<span class="s s-Atom">            for dirpath, dirnames, filenames in os.walk(</span>

<span class="s s-Atom">                path, topdown=True, followlinks=True</span>

<span class="s s-Atom">            ):</span>

<span class="s s-Atom">                for dirname in list(dirnames):</span>

<span class="s s-Atom">                    if file_should_be_skipped(dirname, config, dirpath):</span>

<span class="s s-Atom">                        skipped.append(dirname)</span>

<span class="s s-Atom">                        dirnames.remove(dirname)</span>

<span class="s s-Atom">                for filename in filenames:</span>

<span class="s s-Atom">                    filepath = os.path.join(dirpath, filename)</span>

<span class="s s-Atom">                    if is_python_file(filepath):</span>

<span class="s s-Atom">                        relative_file = os.path.relpath(filepath, path)</span>

<span class="s s-Atom">                        if file_should_be_skipped(relative_file, config, path):</span>

<span class="s s-Atom">                            skipped.append(filename)</span>

<span class="s s-Atom">                        else:</span>

<span class="s s-Atom">                            yield filepath</span>

<span class="s s-Atom">        else:</span>

<span class="s s-Atom">            yield path</span>

<span class="s s-Atom">class ISortCommand(setuptools.Command):</span>

<span class="s s-Atom">    &quot;&quot;&quot;The :class:`ISortCommand` class is used by setuptools to perform</span>

<span class="s s-Atom">    imports checks on registered modules.</span>

<span class="s s-Atom">    &quot;&quot;&quot;</span>

<span class="s s-Atom">    description = &quot;Run isort on modules registered in setuptools&quot;</span>

<span class="s s-Atom">    user_options = []  # type: List[Any]</span>

<span class="s s-Atom">    def initialize_options(self) -&gt; None:</span>

<span class="s s-Atom">        default_settings = default.copy()</span>

<span class="s s-Atom">        for key, value in default_settings.items():</span>

<span class="s s-Atom">            setattr(self, key, value)</span>

<span class="s s-Atom">    def finalize_options(self) -&gt; None:</span>

<span class="s s-Atom">        &quot;Get options from config files.&quot;</span>

<span class="s s-Atom">        self.arguments = {}  # type: Dict[str, Any]</span>

<span class="s s-Atom">        computed_settings = from_path(os.getcwd())</span>

<span class="s s-Atom">        for key, value in computed_settings.items():</span>

<span class="s s-Atom">            self.arguments[key] = value</span>

<span class="s s-Atom">    def distribution_files(self) -&gt; Iterator[str]:</span>

<span class="s s-Atom">        &quot;&quot;&quot;Find distribution packages.&quot;&quot;&quot;</span>

<span class="s s-Atom">        # This is verbatim from flake8</span>

<span class="s s-Atom">        if self.distribution.packages:</span>

<span class="s s-Atom">            package_dirs = self.distribution.package_dir or {}</span>

<span class="s s-Atom">            for package in self.distribution.packages:</span>

<span class="s s-Atom">                pkg_dir = package</span>

<span class="s s-Atom">                if package in package_dirs:</span>

<span class="s s-Atom">                    pkg_dir = package_dirs[package]</span>

<span class="s s-Atom">                elif &quot;&quot; in package_dirs:</span>

<span class="s s-Atom">                    pkg_dir = package_dirs[&quot;&quot;] + os.path.sep + pkg_dir</span>

<span class="s s-Atom">                yield pkg_dir.replace(&quot;.&quot;, os.path.sep)</span>

<span class="s s-Atom">        if self.distribution.py_modules:</span>

<span class="s s-Atom">            for filename in self.distribution.py_modules:</span>

<span class="s s-Atom">                yield &quot;%s.py&quot; % filename</span>

<span class="s s-Atom">        # Don&#39;t</span> <span class="s s-Atom">miss</span> <span class="s s-Atom">the</span> <span class="s s-Atom">setup</span><span class="p">.</span><span class="s s-Atom">py</span> <span class="s s-Atom">file</span> <span class="s s-Atom">itself</span>

        <span class="s s-Atom">yield</span> <span class="s2">&quot;setup.py&quot;</span>

    <span class="s s-Atom">def</span> <span class="nf">run</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">)</span> <span class="s s-Atom">-&gt;</span> <span class="nv">None</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">arguments</span> <span class="o">=</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">arguments</span>

        <span class="s s-Atom">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">False</span>

        <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;check&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="s s-Atom">for</span> <span class="s s-Atom">path</span> <span class="s s-Atom">in</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="nf">distribution_files</span><span class="p">()</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">for</span> <span class="s s-Atom">python_file</span> <span class="s s-Atom">in</span> <span class="s s-Atom">glob</span><span class="p">.</span><span class="nf">iglob</span><span class="p">(</span><span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s s-Atom">path</span><span class="p">,</span> <span class="s2">&quot;*.py&quot;</span><span class="p">))</span><span class="s s-Atom">:</span>

                <span class="nn">try</span><span class="p">:</span>

                    <span class="s s-Atom">incorrectly_sorted</span> <span class="o">=</span> <span class="nv">SortImports</span><span class="p">(</span>

                        <span class="s s-Atom">python_file</span><span class="p">,</span> <span class="s s-Atom">**arguments</span>

                    <span class="p">).</span><span class="s s-Atom">incorrectly_sorted</span>

                    <span class="s s-Atom">if</span> <span class="s s-Atom">incorrectly_sorted:</span>

                        <span class="s s-Atom">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">True</span>

                <span class="s s-Atom">except</span> <span class="nv">OSError</span> <span class="s s-Atom">as</span> <span class="nn">e</span><span class="p">:</span>

                    <span class="nf">print</span><span class="p">(</span>

                        <span class="s2">&quot;WARNING: Unable to parse file {} due to {}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                            <span class="s s-Atom">python_file</span><span class="p">,</span> <span class="s s-Atom">e</span>

                        <span class="p">)</span>

                    <span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">wrong_sorted_files:</span>

            <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="s s-Atom">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="nn">argv</span><span class="p">:</span> <span class="nv">Optional</span><span class="p">[</span><span class="nv">Sequence</span><span class="p">[</span><span class="s s-Atom">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nv">None</span><span class="p">)</span> <span class="s s-Atom">-&gt;</span> <span class="nv">Dict</span><span class="p">[</span><span class="s s-Atom">str</span><span class="p">,</span> <span class="nv">Any</span><span class="p">]</span><span class="s s-Atom">:</span>

    <span class="s s-Atom">parser</span> <span class="o">=</span> <span class="s s-Atom">argparse</span><span class="p">.</span><span class="nv">ArgumentParser</span><span class="p">(</span>

        <span class="s s-Atom">description=</span><span class="s2">&quot;Sort Python import definitions alphabetically &quot;</span>

        <span class="s2">&quot;within logical sections. Run with no arguments to run &quot;</span>

        <span class="s2">&quot;interactively. Run with `-` as the first argument to read from &quot;</span>

        <span class="s2">&quot;stdin. Otherwise provide a list of files to sort.&quot;</span>

    <span class="p">)</span>

    <span class="s s-Atom">inline_args_group</span> <span class="o">=</span> <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_mutually_exclusive_group</span><span class="p">()</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-a&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--add-import&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;add_imports&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Adds the specified import line to all files, &quot;</span>

        <span class="s2">&quot;automatically determining correct placement.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ac&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--atomic&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;atomic&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Ensures the output doesn&#39;t save if the resulting file contains syntax errors.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-af&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-adds&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_adds&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Forces import adds even if the original file is empty.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-b&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--builtin&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;known_standard_library&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force sortImports to recognize a module as part of the python standard library.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--check-only&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;check&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Checks the file for unsorted / unformatted imports and prints them to the &quot;</span>

        <span class="s2">&quot;command line without modifying the file.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ca&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--combine-as&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;combine_as_imports&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Combines as imports on the same line.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-cs&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--combine-star&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;combine_star&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Ensures that if a star import is present, nothing else is imported from that namespace.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--stdout&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force resulting output to stdout, instead of in-place.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;write_to_stdout&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-df&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--diff&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;show_diff&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Prints a diff of all the changes isort would make to a file, instead of &quot;</span>

        <span class="s2">&quot;changing it in place&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ds&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-sections&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Put all imports into the same section bucket&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;no_sections&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-dt&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--dont-order-by-type&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;dont_order_by_type&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Only order imports alphabetically, do not attempt type ordering&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-e&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--balanced&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;balanced_wrapping&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Balances wrapping to produce the most consistent line length possible&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-f&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--future&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;known_future_library&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force sortImports to recognize a module as part of the future compatibility libraries.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fas&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-alphabetical-sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_alphabetical_sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force all imports to be sorted as a single section&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fass&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-alphabetical-sort-within-sections&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_alphabetical_sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force all imports to be sorted alphabetically within a section&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ff&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--from-first&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;from_first&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Switches the typical ordering preference, showing from imports first then straight ones.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fgw&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-grid-wrap&quot;</span><span class="p">,</span>

        <span class="s s-Atom">nargs=</span><span class="s2">&quot;?&quot;</span><span class="p">,</span>

        <span class="s s-Atom">const</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_grid_wrap&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force number of from imports (defaults to 2) to be grid wrapped regardless of line &quot;</span>

        <span class="s2">&quot;length&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fss&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-sort-within-sections&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_sort_within_sections&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force imports to be sorted by module, independent of import_type&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-i&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--indent&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=&#39;String to place for indents defaults to &quot;    &quot; (4 spaces).&#39;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;indent&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">str</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-j&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--jobs&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Number of files to process in parallel.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;jobs&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-k&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--keep-direct-and-as&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;keep_direct_and_as_imports&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Turns off default behavior that removes direct imports when as imports exist.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--lines&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;[Deprecated] The max length of an import line (used for wrapping &quot;</span>

        <span class="s2">&quot;long imports).&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;line_length&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-lai&quot;</span><span class="p">,</span> <span class="s2">&quot;--lines-after-imports&quot;</span><span class="p">,</span> <span class="s s-Atom">dest=</span><span class="s2">&quot;lines_after_imports&quot;</span><span class="p">,</span> <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-lbt&quot;</span><span class="p">,</span> <span class="s2">&quot;--lines-between-types&quot;</span><span class="p">,</span> <span class="s s-Atom">dest=</span><span class="s2">&quot;lines_between_types&quot;</span><span class="p">,</span> <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-le&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--line-ending&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;line_ending&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Forces line endings to the specified value. If not set, values will be guessed per-file.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ls&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--length-sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Sort imports by their string length.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;length_sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-m&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--multi-line&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;multi_line_output&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="nv">WrapModes</span><span class="p">.</span><span class="s s-Atom">from_string</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Multi line output (0-grid, 1-vertical, 2-hanging, 3-vert-hanging, 4-vert-grid, &quot;</span>

        <span class="s2">&quot;5-vert-grid-grouped, 6-vert-grid-grouped-no-comma).&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">inline_args_group</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-nis&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-inline-sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;no_inline_sort&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Leaves `from` imports with multiple imports &#39;as-is&#39; (e.g. `from foo import a, c ,b`).&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-nlb&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-lines-before&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Sections which should not be split with previous by empty lines&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;no_lines_before&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ns&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--dont-skip&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Files that sort imports should never skip over.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;not_skip&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--thirdparty&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;known_third_party&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force sortImports to recognize a module as being part of a third party library.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ot&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--order-by-type&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;order_by_type&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Order imports by type in addition to alphabetically&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-p&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--project&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;known_first_party&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force sortImports to recognize a module as being part of the current python project.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-q&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;quiet&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Shows extra quiet output, only errors are outputted.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s2">&quot;-r&quot;</span><span class="p">,</span> <span class="s s-Atom">dest=</span><span class="s2">&quot;ambiguous_r_flag&quot;</span><span class="p">,</span> <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rm&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--remove-import&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;remove_imports&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Removes the specified import from all files.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rr&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--reverse-relative&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;reverse_relative&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Reverse order of relative imports.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--recursive&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;recursive&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Recursively look for Python files of which to sort imports&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-s&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--skip&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Files that sort imports should skip over. If you want to skip multiple &quot;</span>

        <span class="s2">&quot;files you should specify twice: --skip file1 --skip file2.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;skip&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sd&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--section-default&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;default_section&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Sets the default section for imports (by default FIRSTPARTY) options: &quot;</span>

        <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="nv">DEFAULT_SECTIONS</span><span class="p">),</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sg&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--skip-glob&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Files that sort imports should skip over.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;skip_glob&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">inline_args_group</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sl&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-single-line-imports&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_single_line&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Forces all from imports to appear on their own line&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sp&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--settings-path&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;settings_path&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Explicitly set the settings path instead of auto determining based on file location.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--top&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Force specific imports to the top of their appropriate section.&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;force_to_top&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-tc&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--trailing-comma&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;include_trailing_comma&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Includes a trailing comma on multi line imports that include parentheses.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-up&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--use-parentheses&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;use_parentheses&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Use parenthesis for line continuation on length limit instead of slashes.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">,</span> <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="s s-Atom">dest=</span><span class="s2">&quot;show_version&quot;</span><span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-vb&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Shows verbose output, such as when files are skipped or when a check is successful.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--virtual-env&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Virtual environment to use for determining whether a package is third-party&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--conda-env&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;conda_env&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Conda environment to use for determining whether a package is third-party&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-vn&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--version-number&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;version&quot;</span><span class="p">,</span>

        <span class="s s-Atom">version=</span><span class="k">__</span><span class="s s-Atom">version__</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Returns just the current version number without the logo&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-w&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--line-width&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;The max length of an import line (used for wrapping long imports).&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;line_length&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-wl&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--wrap-length&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;wrap_length&quot;</span><span class="p">,</span>

        <span class="s s-Atom">type</span><span class="o">=</span><span class="s s-Atom">int</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Specifies how long lines that are wrapped should be, if not set line_length is used.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ws&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--ignore-whitespace&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;ignore_whitespace&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to ignore whitespace differences when --check-only is being used.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-y&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--apply&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;apply&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to apply changes recursively without asking&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--unsafe&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;unsafe&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to look for files in standard library directories, etc. &quot;</span>

        <span class="s2">&quot;where it may not be safe to operate in&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--case-sensitive&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;case_sensitive&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to include casing when sorting module names&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--filter-files&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;filter_files&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to filter files even when they are explicitly passed in as part of the command&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;files&quot;</span><span class="p">,</span>

        <span class="s s-Atom">nargs=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;One or more Python source files that need their imports sorted.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-py&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--python-version&quot;</span><span class="p">,</span>

        <span class="s s-Atom">action=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span>

        <span class="s s-Atom">dest=</span><span class="s2">&quot;py_version&quot;</span><span class="p">,</span>

        <span class="s s-Atom">help=</span><span class="s2">&quot;Tells isort to sort the standard library based on the python version. &quot;</span>

        <span class="s2">&quot;Default is the version of the running interpreter, for instance: -py 3, -py 2.7&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="s s-Atom">arguments</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nn">key</span><span class="p">:</span> <span class="s s-Atom">value</span> <span class="s s-Atom">for</span> <span class="s s-Atom">key</span><span class="p">,</span> <span class="s s-Atom">value</span> <span class="s s-Atom">in</span> <span class="nf">vars</span><span class="p">(</span><span class="s s-Atom">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">(</span><span class="s s-Atom">argv</span><span class="p">)).</span><span class="nf">items</span><span class="p">()</span> <span class="s s-Atom">if</span> <span class="s s-Atom">value</span>

    <span class="p">}</span>

    <span class="s s-Atom">if</span> <span class="s2">&quot;dont_order_by_type&quot;</span> <span class="s s-Atom">in</span> <span class="nn">arguments</span><span class="p">:</span>

        <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;order_by_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">False</span>

    <span class="s s-Atom">if</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="s2">&quot;unsafe&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;safety_excludes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">False</span>

    <span class="s s-Atom">return</span> <span class="s s-Atom">arguments</span>

<span class="s s-Atom">def</span> <span class="nf">main</span><span class="p">(</span><span class="nn">argv</span><span class="p">:</span> <span class="nv">Optional</span><span class="p">[</span><span class="nv">Sequence</span><span class="p">[</span><span class="s s-Atom">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nv">None</span><span class="p">)</span> <span class="s s-Atom">-&gt;</span> <span class="nv">None</span><span class="s s-Atom">:</span>

    <span class="s s-Atom">arguments</span> <span class="o">=</span> <span class="nf">parse_args</span><span class="p">(</span><span class="s s-Atom">argv</span><span class="p">)</span>

    <span class="s s-Atom">if</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;show_version&quot;</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="nf">print</span><span class="p">(</span><span class="nv">INTRO</span><span class="p">)</span>

        <span class="s s-Atom">return</span>

    <span class="s s-Atom">if</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;ambiguous_r_flag&quot;</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="nf">print</span><span class="p">(</span>

            <span class="s2">&quot;ERROR: Deprecated -r flag set. This flag has been replaced with -rm to remove ambiguity between it and &quot;</span>

            <span class="s2">&quot;-rc for recursive&quot;</span>

        <span class="p">)</span>

        <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;check_skip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">False</span>

    <span class="s s-Atom">if</span> <span class="s2">&quot;settings_path&quot;</span> <span class="s s-Atom">in</span> <span class="nn">arguments</span><span class="p">:</span>

        <span class="s s-Atom">sp</span> <span class="o">=</span> <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;settings_path&quot;</span><span class="p">]</span>

        <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;settings_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>

            <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="s s-Atom">sp</span><span class="p">)</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="s s-Atom">sp</span><span class="p">)</span>

            <span class="s s-Atom">else</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="s s-Atom">sp</span><span class="p">))</span>

        <span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="o">not</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;settings_path&quot;</span><span class="p">])</span><span class="s s-Atom">:</span>

            <span class="nf">print</span><span class="p">(</span>

                <span class="s2">&quot;WARNING: settings_path dir does not exist: {}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                    <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;settings_path&quot;</span><span class="p">]</span>

                <span class="p">)</span>

            <span class="p">)</span>

    <span class="s s-Atom">if</span> <span class="s2">&quot;virtual_env&quot;</span> <span class="s s-Atom">in</span> <span class="nn">arguments</span><span class="p">:</span>

        <span class="s s-Atom">venv</span> <span class="o">=</span> <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">]</span>

        <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="s s-Atom">venv</span><span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="o">not</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">])</span><span class="s s-Atom">:</span>

            <span class="nf">print</span><span class="p">(</span>

                <span class="s2">&quot;WARNING: virtual_env dir does not exist: {}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span>

                    <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">]</span>

                <span class="p">)</span>

            <span class="p">)</span>

    <span class="s s-Atom">file_names</span> <span class="o">=</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">,</span> <span class="p">[])</span>

    <span class="s s-Atom">if</span> <span class="s s-Atom">file_names</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">]</span><span class="s s-Atom">:</span>

        <span class="nv">SortImports</span><span class="p">(</span><span class="s s-Atom">file_contents</span><span class="o">=</span><span class="s s-Atom">sys</span><span class="p">.</span><span class="s s-Atom">stdin</span><span class="p">.</span><span class="nf">read</span><span class="p">(),</span> <span class="s s-Atom">write_to_stdout</span><span class="o">=</span><span class="nv">True</span><span class="p">,</span> <span class="s s-Atom">**arguments</span><span class="p">)</span>

    <span class="nn">else</span><span class="p">:</span>

        <span class="s s-Atom">if</span> <span class="o">not</span> <span class="s s-Atom">file_names:</span>

            <span class="s s-Atom">file_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>

            <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;recursive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">True</span>

            <span class="s s-Atom">if</span> <span class="o">not</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;apply&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span><span class="s s-Atom">:</span>

                <span class="s s-Atom">arguments</span><span class="p">[</span><span class="s2">&quot;ask_to_apply&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">True</span>

        <span class="s s-Atom">config</span> <span class="o">=</span> <span class="nf">from_path</span><span class="p">(</span>

            <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;settings_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="s s-Atom">or</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="s s-Atom">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="s s-Atom">file_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="s s-Atom">or</span> <span class="s s-Atom">os</span><span class="p">.</span><span class="nf">getcwd</span><span class="p">()</span>

        <span class="p">).</span><span class="nf">copy</span><span class="p">()</span>

        <span class="s s-Atom">config</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="s s-Atom">arguments</span><span class="p">)</span>

        <span class="s s-Atom">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">False</span>

        <span class="s s-Atom">skipped</span> <span class="o">=</span> <span class="p">[]</span>  <span class="s s-Atom">#</span> <span class="nn">type</span><span class="p">:</span> <span class="nv">List</span><span class="p">[</span><span class="s s-Atom">str</span><span class="p">]</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">config</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;filter_files&quot;</span><span class="p">)</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">filtered_files</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="s s-Atom">for</span> <span class="s s-Atom">file_name</span> <span class="s s-Atom">in</span> <span class="s s-Atom">file_names:</span>

                <span class="s s-Atom">if</span> <span class="nf">file_should_be_skipped</span><span class="p">(</span><span class="s s-Atom">file_name</span><span class="p">,</span> <span class="s s-Atom">config</span><span class="p">)</span><span class="s s-Atom">:</span>

                    <span class="s s-Atom">skipped</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">file_name</span><span class="p">)</span>

                <span class="nn">else</span><span class="p">:</span>

                    <span class="s s-Atom">filtered_files</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s s-Atom">file_name</span><span class="p">)</span>

            <span class="s s-Atom">file_names</span> <span class="o">=</span> <span class="s s-Atom">filtered_files</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;recursive&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">file_names</span> <span class="o">=</span> <span class="nf">iter_source_code</span><span class="p">(</span><span class="s s-Atom">file_names</span><span class="p">,</span> <span class="s s-Atom">config</span><span class="p">,</span> <span class="s s-Atom">skipped</span><span class="p">)</span>

        <span class="s s-Atom">num_skipped</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">config</span><span class="p">[</span><span class="s2">&quot;verbose&quot;</span><span class="p">]</span> <span class="s s-Atom">or</span> <span class="s s-Atom">config</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;show_logo&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span><span class="s s-Atom">:</span>

            <span class="nf">print</span><span class="p">(</span><span class="nv">INTRO</span><span class="p">)</span>

        <span class="s s-Atom">jobs</span> <span class="o">=</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;jobs&quot;</span><span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="nn">jobs</span><span class="p">:</span>

            <span class="s s-Atom">import</span> <span class="s s-Atom">multiprocessing</span>

            <span class="s s-Atom">executor</span> <span class="o">=</span> <span class="s s-Atom">multiprocessing</span><span class="p">.</span><span class="nv">Pool</span><span class="p">(</span><span class="s s-Atom">jobs</span><span class="p">)</span>

            <span class="s s-Atom">attempt_iterator</span> <span class="o">=</span> <span class="s s-Atom">executor</span><span class="p">.</span><span class="nf">imap</span><span class="p">(</span>

                <span class="s s-Atom">functools</span><span class="p">.</span><span class="nf">partial</span><span class="p">(</span><span class="s s-Atom">sort_imports</span><span class="p">,</span> <span class="s s-Atom">**arguments</span><span class="p">),</span> <span class="s s-Atom">file_names</span>

            <span class="p">)</span>

        <span class="nn">else</span><span class="p">:</span>

            <span class="s s-Atom">#</span> <span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="s s-Atom">github</span><span class="p">.</span><span class="s s-Atom">com</span><span class="o">/</span><span class="s s-Atom">python</span><span class="o">/</span><span class="s s-Atom">typeshed</span><span class="o">/</span><span class="s s-Atom">pull</span><span class="o">/</span><span class="mi">2814</span>

            <span class="s s-Atom">attempt_iterator</span> <span class="o">=</span> <span class="p">(</span>  <span class="s s-Atom">#</span> <span class="nn">type</span><span class="p">:</span> <span class="s s-Atom">ignore</span>

                <span class="nf">sort_imports</span><span class="p">(</span><span class="s s-Atom">file_name</span><span class="p">,</span> <span class="s s-Atom">**arguments</span><span class="p">)</span> <span class="s s-Atom">for</span> <span class="s s-Atom">file_name</span> <span class="s s-Atom">in</span> <span class="s s-Atom">file_names</span>

            <span class="p">)</span>

        <span class="s s-Atom">for</span> <span class="s s-Atom">sort_attempt</span> <span class="s s-Atom">in</span> <span class="s s-Atom">attempt_iterator:</span>

            <span class="s s-Atom">if</span> <span class="o">not</span> <span class="s s-Atom">sort_attempt:</span>

                <span class="s s-Atom">continue</span>

            <span class="s s-Atom">incorrectly_sorted</span> <span class="o">=</span> <span class="s s-Atom">sort_attempt</span><span class="p">.</span><span class="s s-Atom">incorrectly_sorted</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;check&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span> <span class="s s-Atom">and</span> <span class="s s-Atom">incorrectly_sorted:</span>

                <span class="s s-Atom">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">True</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">sort_attempt</span><span class="p">.</span><span class="nn">skipped</span><span class="p">:</span>

                <span class="s s-Atom">num_skipped</span> <span class="s s-Atom">+=</span> <span class="mi">1</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">wrong_sorted_files:</span>

            <span class="s s-Atom">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="s s-Atom">num_skipped</span> <span class="s s-Atom">+=</span> <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">skipped</span><span class="p">)</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">num_skipped</span> <span class="s s-Atom">and</span> <span class="o">not</span> <span class="s s-Atom">arguments</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">&quot;quiet&quot;</span><span class="p">,</span> <span class="nv">False</span><span class="p">)</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">config</span><span class="p">[</span><span class="s2">&quot;verbose&quot;</span><span class="p">]</span><span class="s s-Atom">:</span>

                <span class="s s-Atom">for</span> <span class="s s-Atom">was_skipped</span> <span class="s s-Atom">in</span> <span class="nn">skipped</span><span class="p">:</span>

                    <span class="nf">print</span><span class="p">(</span>

                        <span class="s2">&quot;WARNING: {} was skipped as it&#39;s listed in &#39;skip&#39; setting&quot;</span>

                        <span class="s2">&quot; or matches a glob in &#39;skip_glob&#39; setting&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">was_skipped</span><span class="p">)</span>

                    <span class="p">)</span>

            <span class="nf">print</span><span class="p">(</span><span class="s2">&quot;Skipped {} files&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s s-Atom">num_skipped</span><span class="p">))</span>

<span class="s s-Atom">if</span> <span class="k">__</span><span class="s s-Atom">name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="s s-Atom">:</span>

    <span class="nf">main</span><span class="p">()</span>
</pre></div>


</details>
<h2 id="variables">Variables</h2>
<div class="codehilite"><pre><span></span><span class="n">DEFAULT_SECTIONS</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">INTRO</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">default</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">shebang_re</span>
</pre></div>


<h2 id="functions">Functions</h2>
<h3 id="is_python_file">is_python_file</h3>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">is_python_file</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">is_python_file</span><span class="ss">(</span><span class="nv">path</span>: <span class="nv">str</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">bool</span>:

    <span class="nv">_root</span>, <span class="nv">ext</span> <span class="o">=</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">splitext</span><span class="ss">(</span><span class="nv">path</span><span class="ss">)</span>

    <span class="k">if</span> <span class="nv">ext</span> <span class="nv">in</span> <span class="ss">(</span><span class="s2">&quot;</span><span class="s">.py</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">.pyi</span><span class="s2">&quot;</span><span class="ss">)</span>:

        <span class="k">return</span> <span class="nv">True</span>

    <span class="k">if</span> <span class="nv">ext</span> <span class="nv">in</span> <span class="ss">(</span><span class="s2">&quot;</span><span class="s">.pex</span><span class="s2">&quot;</span>,<span class="ss">)</span>:

        <span class="k">return</span> <span class="nv">False</span>

    # <span class="nv">Skip</span> <span class="nv">editor</span> <span class="nv">backup</span> <span class="nv">files</span>.

    <span class="k">if</span> <span class="nv">path</span>.<span class="nv">endswith</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">~</span><span class="s2">&quot;</span><span class="ss">)</span>:

        <span class="k">return</span> <span class="nv">False</span>

    <span class="nv">try</span>:

        <span class="nv">with</span> <span class="nv">open</span><span class="ss">(</span><span class="nv">path</span>, <span class="s2">&quot;</span><span class="s">rb</span><span class="s2">&quot;</span><span class="ss">)</span> <span class="nv">as</span> <span class="nv">fp</span>:

            <span class="nv">line</span> <span class="o">=</span> <span class="nv">fp</span>.<span class="nv">readline</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>

    <span class="nv">except</span> <span class="nv">OSError</span>:

        <span class="k">return</span> <span class="nv">False</span>

    <span class="k">else</span>:

        <span class="k">return</span> <span class="nv">bool</span><span class="ss">(</span><span class="nv">shebang_re</span>.<span class="nv">match</span><span class="ss">(</span><span class="nv">line</span><span class="ss">))</span>
</pre></div>


</details>
<h3 id="iter_source_code">iter_source_code</h3>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">iter_source_code</span><span class="p">(</span>
    <span class="n">paths</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">skipped</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</pre></div>


<p>Iterate over all Python source files defined in paths.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">iter_source_code</span><span class="ss">(</span>

    <span class="nv">paths</span>: <span class="nv">Iterable</span>[<span class="nv">str</span>], <span class="nv">config</span>: <span class="nv">MutableMapping</span>[<span class="nv">str</span>, <span class="nv">Any</span>], <span class="nv">skipped</span>: <span class="nv">List</span>[<span class="nv">str</span>]

<span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">Iterator</span>[<span class="nv">str</span>]:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">Iterate over all Python source files defined in paths.</span><span class="s2">&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="s2">&quot;</span><span class="s">not_skip</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">config</span>:

        <span class="nv">config</span>[<span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">list</span><span class="ss">(</span><span class="nv">set</span><span class="ss">(</span><span class="nv">config</span>[<span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>]<span class="ss">)</span>.<span class="nv">difference</span><span class="ss">(</span><span class="nv">config</span>[<span class="s2">&quot;</span><span class="s">not_skip</span><span class="s2">&quot;</span>]<span class="ss">))</span>

    <span class="k">for</span> <span class="nv">path</span> <span class="nv">in</span> <span class="nv">paths</span>:

        <span class="k">if</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">isdir</span><span class="ss">(</span><span class="nv">path</span><span class="ss">)</span>:

            <span class="k">for</span> <span class="nv">dirpath</span>, <span class="nv">dirnames</span>, <span class="nv">filenames</span> <span class="nv">in</span> <span class="nv">os</span>.<span class="nv">walk</span><span class="ss">(</span>

                <span class="nv">path</span>, <span class="nv">topdown</span><span class="o">=</span><span class="nv">True</span>, <span class="nv">followlinks</span><span class="o">=</span><span class="nv">True</span>

            <span class="ss">)</span>:

                <span class="k">for</span> <span class="k">dirname</span> <span class="nv">in</span> <span class="nv">list</span><span class="ss">(</span><span class="nv">dirnames</span><span class="ss">)</span>:

                    <span class="k">if</span> <span class="nv">file_should_be_skipped</span><span class="ss">(</span><span class="k">dirname</span>, <span class="nv">config</span>, <span class="nv">dirpath</span><span class="ss">)</span>:

                        <span class="nv">skipped</span>.<span class="nv">append</span><span class="ss">(</span><span class="k">dirname</span><span class="ss">)</span>

                        <span class="nv">dirnames</span>.<span class="nv">remove</span><span class="ss">(</span><span class="k">dirname</span><span class="ss">)</span>

                <span class="k">for</span> <span class="nv">filename</span> <span class="nv">in</span> <span class="nv">filenames</span>:

                    <span class="nv">filepath</span> <span class="o">=</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">join</span><span class="ss">(</span><span class="nv">dirpath</span>, <span class="nv">filename</span><span class="ss">)</span>

                    <span class="k">if</span> <span class="nv">is_python_file</span><span class="ss">(</span><span class="nv">filepath</span><span class="ss">)</span>:

                        <span class="nv">relative_file</span> <span class="o">=</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">relpath</span><span class="ss">(</span><span class="nv">filepath</span>, <span class="nv">path</span><span class="ss">)</span>

                        <span class="k">if</span> <span class="nv">file_should_be_skipped</span><span class="ss">(</span><span class="nv">relative_file</span>, <span class="nv">config</span>, <span class="nv">path</span><span class="ss">)</span>:

                            <span class="nv">skipped</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">filename</span><span class="ss">)</span>

                        <span class="k">else</span>:

                            <span class="nv">yield</span> <span class="nv">filepath</span>

        <span class="k">else</span>:

            <span class="nv">yield</span> <span class="nv">path</span>
</pre></div>


</details>
<h3 id="main">main</h3>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span>
    <span class="n">argv</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">main</span><span class="ss">(</span><span class="nv">argv</span>: <span class="nv">Optional</span>[<span class="nv">Sequence</span>[<span class="nv">str</span>]] <span class="o">=</span> <span class="nv">None</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

    <span class="nv">arguments</span> <span class="o">=</span> <span class="nv">parse_args</span><span class="ss">(</span><span class="nv">argv</span><span class="ss">)</span>

    <span class="k">if</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">show_version</span><span class="s2">&quot;</span><span class="ss">)</span>:

        <span class="nv">print</span><span class="ss">(</span><span class="nv">INTRO</span><span class="ss">)</span>

        <span class="k">return</span>

    <span class="k">if</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">ambiguous_r_flag</span><span class="s2">&quot;</span><span class="ss">)</span>:

        <span class="nv">print</span><span class="ss">(</span>

            <span class="s2">&quot;</span><span class="s">ERROR: Deprecated -r flag set. This flag has been replaced with -rm to remove ambiguity between it and </span><span class="s2">&quot;</span>

            <span class="s2">&quot;</span><span class="s">-rc for recursive</span><span class="s2">&quot;</span>

        <span class="ss">)</span>

        <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>

    <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">check_skip</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">False</span>

    <span class="k">if</span> <span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">arguments</span>:

        <span class="nv">sp</span> <span class="o">=</span> <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span>]

        <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="ss">(</span>

            <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">abspath</span><span class="ss">(</span><span class="nv">sp</span><span class="ss">)</span>

            <span class="k">if</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">isdir</span><span class="ss">(</span><span class="nv">sp</span><span class="ss">)</span>

            <span class="k">else</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="k">dirname</span><span class="ss">(</span><span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">abspath</span><span class="ss">(</span><span class="nv">sp</span><span class="ss">))</span>

        <span class="ss">)</span>

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">isdir</span><span class="ss">(</span><span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span>]<span class="ss">)</span>:

            <span class="nv">print</span><span class="ss">(</span>

                <span class="s2">&quot;</span><span class="s">WARNING: settings_path dir does not exist: {}</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span>

                    <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span>]

                <span class="ss">)</span>

            <span class="ss">)</span>

    <span class="k">if</span> <span class="s2">&quot;</span><span class="s">virtual_env</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">arguments</span>:

        <span class="nv">venv</span> <span class="o">=</span> <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">virtual_env</span><span class="s2">&quot;</span>]

        <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">virtual_env</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">abspath</span><span class="ss">(</span><span class="nv">venv</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">isdir</span><span class="ss">(</span><span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">virtual_env</span><span class="s2">&quot;</span>]<span class="ss">)</span>:

            <span class="nv">print</span><span class="ss">(</span>

                <span class="s2">&quot;</span><span class="s">WARNING: virtual_env dir does not exist: {}</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span>

                    <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">virtual_env</span><span class="s2">&quot;</span>]

                <span class="ss">)</span>

            <span class="ss">)</span>

    <span class="nv">file_names</span> <span class="o">=</span> <span class="nv">arguments</span>.<span class="nv">pop</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">files</span><span class="s2">&quot;</span>, []<span class="ss">)</span>

    <span class="k">if</span> <span class="nv">file_names</span> <span class="o">==</span> [<span class="s2">&quot;</span><span class="s">-</span><span class="s2">&quot;</span>]:

        <span class="nv">SortImports</span><span class="ss">(</span><span class="nv">file_contents</span><span class="o">=</span><span class="nv">sys</span>.<span class="nv">stdin</span>.<span class="nv">read</span><span class="ss">()</span>, <span class="nv">write_to_stdout</span><span class="o">=</span><span class="nv">True</span>, <span class="o">**</span><span class="nv">arguments</span><span class="ss">)</span>

    <span class="k">else</span>:

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">file_names</span>:

            <span class="nv">file_names</span> <span class="o">=</span> [<span class="s2">&quot;</span><span class="s">.</span><span class="s2">&quot;</span>]

            <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">recursive</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">True</span>

            <span class="k">if</span> <span class="nv">not</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">apply</span><span class="s2">&quot;</span>, <span class="nv">False</span><span class="ss">)</span>:

                <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">ask_to_apply</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">True</span>

        <span class="nv">config</span> <span class="o">=</span> <span class="nv">from_path</span><span class="ss">(</span>

            <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">settings_path</span><span class="s2">&quot;</span>, <span class="s2">&quot;&quot;</span><span class="ss">)</span>

            <span class="nv">or</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">abspath</span><span class="ss">(</span><span class="nv">file_names</span>[<span class="mi">0</span>]<span class="ss">)</span>

            <span class="nv">or</span> <span class="nv">os</span>.<span class="nv">getcwd</span><span class="ss">()</span>

        <span class="ss">)</span>.<span class="nv">copy</span><span class="ss">()</span>

        <span class="nv">config</span>.<span class="nv">update</span><span class="ss">(</span><span class="nv">arguments</span><span class="ss">)</span>

        <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">False</span>

        <span class="nv">skipped</span> <span class="o">=</span> []  # <span class="nv">type</span>: <span class="nv">List</span>[<span class="nv">str</span>]

        <span class="k">if</span> <span class="nv">config</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">filter_files</span><span class="s2">&quot;</span><span class="ss">)</span>:

            <span class="nv">filtered_files</span> <span class="o">=</span> []

            <span class="k">for</span> <span class="nv">file_name</span> <span class="nv">in</span> <span class="nv">file_names</span>:

                <span class="k">if</span> <span class="nv">file_should_be_skipped</span><span class="ss">(</span><span class="nv">file_name</span>, <span class="nv">config</span><span class="ss">)</span>:

                    <span class="nv">skipped</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">file_name</span><span class="ss">)</span>

                <span class="k">else</span>:

                    <span class="nv">filtered_files</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">file_name</span><span class="ss">)</span>

            <span class="nv">file_names</span> <span class="o">=</span> <span class="nv">filtered_files</span>

        <span class="k">if</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">recursive</span><span class="s2">&quot;</span>, <span class="nv">False</span><span class="ss">)</span>:

            <span class="nv">file_names</span> <span class="o">=</span> <span class="nv">iter_source_code</span><span class="ss">(</span><span class="nv">file_names</span>, <span class="nv">config</span>, <span class="nv">skipped</span><span class="ss">)</span>

        <span class="nv">num_skipped</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="nv">config</span>[<span class="s2">&quot;</span><span class="s">verbose</span><span class="s2">&quot;</span>] <span class="nv">or</span> <span class="nv">config</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">show_logo</span><span class="s2">&quot;</span>, <span class="nv">False</span><span class="ss">)</span>:

            <span class="nv">print</span><span class="ss">(</span><span class="nv">INTRO</span><span class="ss">)</span>

        <span class="nv">jobs</span> <span class="o">=</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">jobs</span><span class="s2">&quot;</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">jobs</span>:

            <span class="nv">import</span> <span class="nv">multiprocessing</span>

            <span class="nv">executor</span> <span class="o">=</span> <span class="nv">multiprocessing</span>.<span class="nv">Pool</span><span class="ss">(</span><span class="nv">jobs</span><span class="ss">)</span>

            <span class="nv">attempt_iterator</span> <span class="o">=</span> <span class="nv">executor</span>.<span class="nv">imap</span><span class="ss">(</span>

                <span class="nv">functools</span>.<span class="nv">partial</span><span class="ss">(</span><span class="nv">sort_imports</span>, <span class="o">**</span><span class="nv">arguments</span><span class="ss">)</span>, <span class="nv">file_names</span>

            <span class="ss">)</span>

        <span class="k">else</span>:

            # <span class="nv">https</span>:<span class="o">//</span><span class="nv">github</span>.<span class="nv">com</span><span class="o">/</span><span class="nv">python</span><span class="o">/</span><span class="nv">typeshed</span><span class="o">/</span><span class="nv">pull</span><span class="o">/</span><span class="mi">2814</span>

            <span class="nv">attempt_iterator</span> <span class="o">=</span> <span class="ss">(</span>  # <span class="nv">type</span>: <span class="nv">ignore</span>

                <span class="nv">sort_imports</span><span class="ss">(</span><span class="nv">file_name</span>, <span class="o">**</span><span class="nv">arguments</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">file_name</span> <span class="nv">in</span> <span class="nv">file_names</span>

            <span class="ss">)</span>

        <span class="k">for</span> <span class="nv">sort_attempt</span> <span class="nv">in</span> <span class="nv">attempt_iterator</span>:

            <span class="k">if</span> <span class="nv">not</span> <span class="nv">sort_attempt</span>:

                <span class="k">continue</span>

            <span class="nv">incorrectly_sorted</span> <span class="o">=</span> <span class="nv">sort_attempt</span>.<span class="nv">incorrectly_sorted</span>

            <span class="k">if</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">check</span><span class="s2">&quot;</span>, <span class="nv">False</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">incorrectly_sorted</span>:

                <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">True</span>

            <span class="k">if</span> <span class="nv">sort_attempt</span>.<span class="nv">skipped</span>:

                <span class="nv">num_skipped</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="nv">wrong_sorted_files</span>:

            <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>

        <span class="nv">num_skipped</span> <span class="o">+=</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">skipped</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">num_skipped</span> <span class="nv">and</span> <span class="nv">not</span> <span class="nv">arguments</span>.<span class="nv">get</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">quiet</span><span class="s2">&quot;</span>, <span class="nv">False</span><span class="ss">)</span>:

            <span class="k">if</span> <span class="nv">config</span>[<span class="s2">&quot;</span><span class="s">verbose</span><span class="s2">&quot;</span>]:

                <span class="k">for</span> <span class="nv">was_skipped</span> <span class="nv">in</span> <span class="nv">skipped</span>:

                    <span class="nv">print</span><span class="ss">(</span>

                        <span class="s2">&quot;</span><span class="s">WARNING: {} was skipped as it&#39;s listed in &#39;skip&#39; setting</span><span class="s2">&quot;</span>

                        <span class="s2">&quot;</span><span class="s"> or matches a glob in &#39;skip_glob&#39; setting</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">was_skipped</span><span class="ss">)</span>

                    <span class="ss">)</span>

            <span class="nv">print</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">Skipped {} files</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">num_skipped</span><span class="ss">))</span>
</pre></div>


</details>
<h3 id="parse_args">parse_args</h3>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span>
    <span class="n">argv</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>

    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>

        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Sort Python import definitions alphabetically &quot;</span>

        <span class="s2">&quot;within logical sections. Run with no arguments to run &quot;</span>

        <span class="s2">&quot;interactively. Run with `-` as the first argument to read from &quot;</span>

        <span class="s2">&quot;stdin. Otherwise provide a list of files to sort.&quot;</span>

    <span class="p">)</span>

    <span class="n">inline_args_group</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_mutually_exclusive_group</span><span class="p">()</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-a&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--add-import&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;add_imports&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Adds the specified import line to all files, &quot;</span>

        <span class="s2">&quot;automatically determining correct placement.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ac&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--atomic&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;atomic&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Ensures the output doesn&#39;t save if the resulting file contains syntax errors.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-af&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-adds&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_adds&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Forces import adds even if the original file is empty.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-b&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--builtin&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;known_standard_library&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force sortImports to recognize a module as part of the python standard library.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--check-only&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;check&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checks the file for unsorted / unformatted imports and prints them to the &quot;</span>

        <span class="s2">&quot;command line without modifying the file.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ca&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--combine-as&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;combine_as_imports&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Combines as imports on the same line.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-cs&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--combine-star&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;combine_star&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Ensures that if a star import is present, nothing else is imported from that namespace.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--stdout&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force resulting output to stdout, instead of in-place.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;write_to_stdout&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-df&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--diff&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;show_diff&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Prints a diff of all the changes isort would make to a file, instead of &quot;</span>

        <span class="s2">&quot;changing it in place&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ds&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-sections&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Put all imports into the same section bucket&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;no_sections&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-dt&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--dont-order-by-type&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;dont_order_by_type&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Only order imports alphabetically, do not attempt type ordering&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-e&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--balanced&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;balanced_wrapping&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Balances wrapping to produce the most consistent line length possible&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-f&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--future&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;known_future_library&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force sortImports to recognize a module as part of the future compatibility libraries.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fas&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-alphabetical-sort&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_alphabetical_sort&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force all imports to be sorted as a single section&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fass&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-alphabetical-sort-within-sections&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_alphabetical_sort&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force all imports to be sorted alphabetically within a section&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ff&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--from-first&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;from_first&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Switches the typical ordering preference, showing from imports first then straight ones.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fgw&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-grid-wrap&quot;</span><span class="p">,</span>

        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">,</span>

        <span class="n">const</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_grid_wrap&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force number of from imports (defaults to 2) to be grid wrapped regardless of line &quot;</span>

        <span class="s2">&quot;length&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-fss&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-sort-within-sections&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_sort_within_sections&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force imports to be sorted by module, independent of import_type&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-i&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--indent&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;String to place for indents defaults to &quot;    &quot; (4 spaces).&#39;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;indent&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-j&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--jobs&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of files to process in parallel.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;jobs&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-k&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--keep-direct-and-as&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;keep_direct_and_as_imports&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Turns off default behavior that removes direct imports when as imports exist.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--lines&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;[Deprecated] The max length of an import line (used for wrapping &quot;</span>

        <span class="s2">&quot;long imports).&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;line_length&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-lai&quot;</span><span class="p">,</span> <span class="s2">&quot;--lines-after-imports&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;lines_after_imports&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-lbt&quot;</span><span class="p">,</span> <span class="s2">&quot;--lines-between-types&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;lines_between_types&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-le&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--line-ending&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;line_ending&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Forces line endings to the specified value. If not set, values will be guessed per-file.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ls&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--length-sort&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Sort imports by their string length.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;length_sort&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-m&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--multi-line&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;multi_line_output&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="n">WrapModes</span><span class="o">.</span><span class="n">from_string</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Multi line output (0-grid, 1-vertical, 2-hanging, 3-vert-hanging, 4-vert-grid, &quot;</span>

        <span class="s2">&quot;5-vert-grid-grouped, 6-vert-grid-grouped-no-comma).&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">inline_args_group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-nis&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-inline-sort&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;no_inline_sort&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Leaves `from` imports with multiple imports &#39;as-is&#39; (e.g. `from foo import a, c ,b`).&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-nlb&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--no-lines-before&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Sections which should not be split with previous by empty lines&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;no_lines_before&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ns&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--dont-skip&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Files that sort imports should never skip over.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;not_skip&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--thirdparty&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;known_third_party&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force sortImports to recognize a module as being part of a third party library.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ot&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--order-by-type&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;order_by_type&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Order imports by type in addition to alphabetically&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-p&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--project&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;known_first_party&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force sortImports to recognize a module as being part of the current python project.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-q&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--quiet&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;quiet&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Shows extra quiet output, only errors are outputted.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-r&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;ambiguous_r_flag&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rm&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--remove-import&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;remove_imports&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Removes the specified import from all files.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rr&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--reverse-relative&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;reverse_relative&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Reverse order of relative imports.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--recursive&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;recursive&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Recursively look for Python files of which to sort imports&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-s&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--skip&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Files that sort imports should skip over. If you want to skip multiple &quot;</span>

        <span class="s2">&quot;files you should specify twice: --skip file1 --skip file2.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;skip&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sd&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--section-default&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;default_section&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Sets the default section for imports (by default FIRSTPARTY) options: &quot;</span>

        <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">DEFAULT_SECTIONS</span><span class="p">),</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sg&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--skip-glob&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Files that sort imports should skip over.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;skip_glob&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">inline_args_group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sl&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--force-single-line-imports&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_single_line&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Forces all from imports to appear on their own line&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-sp&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--settings-path&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;settings_path&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Explicitly set the settings path instead of auto determining based on file location.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--top&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Force specific imports to the top of their appropriate section.&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;force_to_top&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;append&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-tc&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--trailing-comma&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;include_trailing_comma&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Includes a trailing comma on multi line imports that include parentheses.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-up&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--use-parentheses&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;use_parentheses&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Use parenthesis for line continuation on length limit instead of slashes.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;show_version&quot;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-vb&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Shows verbose output, such as when files are skipped or when a check is successful.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--virtual-env&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;virtual_env&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Virtual environment to use for determining whether a package is third-party&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--conda-env&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;conda_env&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Conda environment to use for determining whether a package is third-party&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-vn&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--version-number&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;version&quot;</span><span class="p">,</span>

        <span class="n">version</span><span class="o">=</span><span class="n">__version__</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Returns just the current version number without the logo&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-w&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--line-width&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The max length of an import line (used for wrapping long imports).&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;line_length&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-wl&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--wrap-length&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;wrap_length&quot;</span><span class="p">,</span>

        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Specifies how long lines that are wrapped should be, if not set line_length is used.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-ws&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--ignore-whitespace&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;ignore_whitespace&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to ignore whitespace differences when --check-only is being used.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-y&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--apply&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;apply&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to apply changes recursively without asking&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--unsafe&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;unsafe&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to look for files in standard library directories, etc. &quot;</span>

        <span class="s2">&quot;where it may not be safe to operate in&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--case-sensitive&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;case_sensitive&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to include casing when sorting module names&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;--filter-files&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;filter_files&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to filter files even when they are explicitly passed in as part of the command&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;files&quot;</span><span class="p">,</span>

        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;One or more Python source files that need their imports sorted.&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>

        <span class="s2">&quot;-py&quot;</span><span class="p">,</span>

        <span class="s2">&quot;--python-version&quot;</span><span class="p">,</span>

        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span>

        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;py_version&quot;</span><span class="p">,</span>

        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Tells isort to sort the standard library based on the python version. &quot;</span>

        <span class="s2">&quot;Default is the version of the running interpreter, for instance: -py 3, -py 2.7&quot;</span><span class="p">,</span>

    <span class="p">)</span>

    <span class="n">arguments</span> <span class="o">=</span> <span class="p">{</span>

        <span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">))</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">value</span>

    <span class="p">}</span>

    <span class="k">if</span> <span class="s2">&quot;dont_order_by_type&quot;</span> <span class="ow">in</span> <span class="n">arguments</span><span class="p">:</span>

        <span class="n">arguments</span><span class="p">[</span><span class="s2">&quot;order_by_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">if</span> <span class="n">arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;unsafe&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>

        <span class="n">arguments</span><span class="p">[</span><span class="s2">&quot;safety_excludes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">return</span> <span class="n">arguments</span>
</pre></div>


</details>
<h3 id="sort_imports">sort_imports</h3>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">sort_imports</span><span class="p">(</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">arguments</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">isort</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">SortAttempt</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">sort_imports</span><span class="ss">(</span><span class="nv">file_name</span>: <span class="nv">str</span>, <span class="o">**</span><span class="nv">arguments</span>: <span class="nv">Any</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">Optional</span>[<span class="nv">SortAttempt</span>]:

    <span class="nv">try</span>:

        <span class="nb">result</span> <span class="o">=</span> <span class="nv">SortImports</span><span class="ss">(</span><span class="nv">file_name</span>, <span class="o">**</span><span class="nv">arguments</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">SortAttempt</span><span class="ss">(</span><span class="nb">result</span>.<span class="nv">incorrectly_sorted</span>, <span class="nb">result</span>.<span class="nv">skipped</span><span class="ss">)</span>

    <span class="nv">except</span> <span class="nv">OSError</span> <span class="nv">as</span> <span class="nv">e</span>:

        <span class="nv">print</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">WARNING: Unable to parse file {} due to {}</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">file_name</span>, <span class="nv">e</span><span class="ss">))</span>

        <span class="k">return</span> <span class="nv">None</span>
</pre></div>


</details>
<h2 id="classes">Classes</h2>
<h3 id="isortcommand">ISortCommand</h3>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ISortCommand</span><span class="p">(</span>
    <span class="n">dist</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kw</span>
<span class="p">)</span>
</pre></div>


<p>The :class:<code>ISortCommand</code> class is used by setuptools to perform
imports checks on registered modules.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">class</span> <span class="nv">ISortCommand</span><span class="ss">(</span><span class="nv">setuptools</span>.<span class="nv">Command</span><span class="ss">)</span>:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">The :class:`ISortCommand` class is used by setuptools to perform</span>

    <span class="nv">imports</span> <span class="nv">checks</span> <span class="nv">on</span> <span class="nv">registered</span> <span class="nv">modules</span>.

    <span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">description</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Run isort on modules registered in setuptools</span><span class="s2">&quot;</span>

    <span class="nv">user_options</span> <span class="o">=</span> []  # <span class="nv">type</span>: <span class="nv">List</span>[<span class="nv">Any</span>]

    <span class="nv">def</span> <span class="nv">initialize_options</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="nv">default_settings</span> <span class="o">=</span> <span class="nv">default</span>.<span class="nv">copy</span><span class="ss">()</span>

        <span class="k">for</span> <span class="nv">key</span>, <span class="nv">value</span> <span class="nv">in</span> <span class="nv">default_settings</span>.<span class="nv">items</span><span class="ss">()</span>:

            <span class="nv">setattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">key</span>, <span class="nv">value</span><span class="ss">)</span>

    <span class="nv">def</span> <span class="nv">finalize_options</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="s2">&quot;</span><span class="s">Get options from config files.</span><span class="s2">&quot;</span>

        <span class="nv">self</span>.<span class="nv">arguments</span> <span class="o">=</span> {}  # <span class="nv">type</span>: <span class="nv">Dict</span>[<span class="nv">str</span>, <span class="nv">Any</span>]

        <span class="nv">computed_settings</span> <span class="o">=</span> <span class="nv">from_path</span><span class="ss">(</span><span class="nv">os</span>.<span class="nv">getcwd</span><span class="ss">())</span>

        <span class="k">for</span> <span class="nv">key</span>, <span class="nv">value</span> <span class="nv">in</span> <span class="nv">computed_settings</span>.<span class="nv">items</span><span class="ss">()</span>:

            <span class="nv">self</span>.<span class="nv">arguments</span>[<span class="nv">key</span>] <span class="o">=</span> <span class="nv">value</span>

    <span class="nv">def</span> <span class="nv">distribution_files</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">Iterator</span>[<span class="nv">str</span>]:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Find distribution packages.</span><span class="s2">&quot;&quot;&quot;</span>

        # <span class="nv">This</span> <span class="nv">is</span> <span class="nv">verbatim</span> <span class="nv">from</span> <span class="nv">flake8</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">packages</span>:

            <span class="nv">package_dirs</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">package_dir</span> <span class="nv">or</span> {}

            <span class="k">for</span> <span class="nv">package</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">packages</span>:

                <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package</span>

                <span class="k">if</span> <span class="nv">package</span> <span class="nv">in</span> <span class="nv">package_dirs</span>:

                    <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package_dirs</span>[<span class="nv">package</span>]

                <span class="nv">elif</span> <span class="s2">&quot;&quot;</span> <span class="nv">in</span> <span class="nv">package_dirs</span>:

                    <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package_dirs</span>[<span class="s2">&quot;&quot;</span>] <span class="o">+</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">sep</span> <span class="o">+</span> <span class="nv">pkg_dir</span>

                <span class="nv">yield</span> <span class="nv">pkg_dir</span>.<span class="nv">replace</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">.</span><span class="s2">&quot;</span>, <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">sep</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">py_modules</span>:

            <span class="k">for</span> <span class="nv">filename</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">py_modules</span>:

                <span class="nv">yield</span> <span class="s2">&quot;</span><span class="s">%s.py</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nv">filename</span>

        # <span class="nv">Don</span><span class="s1">&#39;</span><span class="s">t miss the setup.py file itself</span>

        <span class="nv">yield</span> <span class="s2">&quot;</span><span class="s">setup.py</span><span class="s2">&quot;</span>

    <span class="nv">def</span> <span class="nv">run</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="nv">arguments</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">arguments</span>

        <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">False</span>

        <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">check</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">True</span>

        <span class="k">for</span> <span class="nv">path</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution_files</span><span class="ss">()</span>:

            <span class="k">for</span> <span class="nv">python_file</span> <span class="nv">in</span> <span class="nv">glob</span>.<span class="nv">iglob</span><span class="ss">(</span><span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">join</span><span class="ss">(</span><span class="nv">path</span>, <span class="s2">&quot;</span><span class="s">*.py</span><span class="s2">&quot;</span><span class="ss">))</span>:

                <span class="nv">try</span>:

                    <span class="nv">incorrectly_sorted</span> <span class="o">=</span> <span class="nv">SortImports</span><span class="ss">(</span>

                        <span class="nv">python_file</span>, <span class="o">**</span><span class="nv">arguments</span>

                    <span class="ss">)</span>.<span class="nv">incorrectly_sorted</span>

                    <span class="k">if</span> <span class="nv">incorrectly_sorted</span>:

                        <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">True</span>

                <span class="nv">except</span> <span class="nv">OSError</span> <span class="nv">as</span> <span class="nv">e</span>:

                    <span class="nv">print</span><span class="ss">(</span>

                        <span class="s2">&quot;</span><span class="s">WARNING: Unable to parse file {} due to {}</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span>

                            <span class="nv">python_file</span>, <span class="nv">e</span>

                        <span class="ss">)</span>

                    <span class="ss">)</span>

        <span class="k">if</span> <span class="nv">wrong_sorted_files</span>:

            <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
</pre></div>


</details>
<hr />
<h4 id="ancestors-in-mro">Ancestors (in MRO)</h4>
<ul>
<li>setuptools.Command</li>
<li>distutils.cmd.Command</li>
</ul>
<h4 id="class-variables">Class variables</h4>
<div class="codehilite"><pre><span></span><span class="n">command_consumes_arguments</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">description</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">sub_commands</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">user_options</span>
</pre></div>


<h4 id="methods">Methods</h4>
<h5 id="announce">announce</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">announce</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">msg</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>If the current verbosity level is of greater than or equal to
'level' print 'msg' to stdout.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">announce</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">msg</span>, <span class="nv">level</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">If the current verbosity level is of greater than or equal to</span>

        <span class="s1">&#39;</span><span class="s">level</span><span class="s1">&#39;</span> <span class="nv">print</span> <span class="s1">&#39;</span><span class="s">msg</span><span class="s1">&#39;</span> <span class="nv">to</span> <span class="nv">stdout</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">log</span>.<span class="nv">log</span><span class="ss">(</span><span class="nv">level</span>, <span class="nv">msg</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="copy_file">copy_file</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">infile</span><span class="p">,</span>
    <span class="n">outfile</span><span class="p">,</span>
    <span class="n">preserve_mode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">preserve_times</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Copy a file respecting verbose, dry-run and force flags.  (The
former two default to whatever is in the Distribution object, and
the latter defaults to false for commands that don't define it.)</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">copy_file</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">infile</span>, <span class="nv">outfile</span>, <span class="nv">preserve_mode</span><span class="o">=</span><span class="mi">1</span>, <span class="nv">preserve_times</span><span class="o">=</span><span class="mi">1</span>,

                  <span class="nv">link</span><span class="o">=</span><span class="nv">None</span>, <span class="nv">level</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Copy a file respecting verbose, dry-run and force flags.  (The</span>

        <span class="nv">former</span> <span class="nv">two</span> <span class="nv">default</span> <span class="nv">to</span> <span class="nv">whatever</span> <span class="nv">is</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">Distribution</span> <span class="nv">object</span>, <span class="nv">and</span>

        <span class="nv">the</span> <span class="nv">latter</span> <span class="nv">defaults</span> <span class="nv">to</span> <span class="nv">false</span> <span class="k">for</span> <span class="nv">commands</span> <span class="nv">that</span> <span class="nv">don</span><span class="s1">&#39;</span><span class="s">t define it.)&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nv">file_util</span>.<span class="nv">copy_file</span><span class="ss">(</span><span class="nv">infile</span>, <span class="nv">outfile</span>, <span class="nv">preserve_mode</span>,

                                   <span class="nv">preserve_times</span>, <span class="nv">not</span> <span class="nv">self</span>.<span class="nv">force</span>, <span class="nv">link</span>,

                                   <span class="nv">dry_run</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">dry_run</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="copy_tree">copy_tree</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">copy_tree</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">infile</span><span class="p">,</span>
    <span class="n">outfile</span><span class="p">,</span>
    <span class="n">preserve_mode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">preserve_times</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">preserve_symlinks</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Copy an entire directory tree respecting verbose, dry-run,
and force flags.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">copy_tree</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">infile</span>, <span class="nv">outfile</span>, <span class="nv">preserve_mode</span><span class="o">=</span><span class="mi">1</span>, <span class="nv">preserve_times</span><span class="o">=</span><span class="mi">1</span>,

                   <span class="nv">preserve_symlinks</span><span class="o">=</span><span class="mi">0</span>, <span class="nv">level</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Copy an entire directory tree respecting verbose, dry-run,</span>

        <span class="nv">and</span> <span class="nv">force</span> <span class="nv">flags</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nv">dir_util</span>.<span class="nv">copy_tree</span><span class="ss">(</span><span class="nv">infile</span>, <span class="nv">outfile</span>, <span class="nv">preserve_mode</span>,

                                  <span class="nv">preserve_times</span>, <span class="nv">preserve_symlinks</span>,

                                  <span class="nv">not</span> <span class="nv">self</span>.<span class="nv">force</span>, <span class="nv">dry_run</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">dry_run</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="debug_print">debug_print</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">debug_print</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">msg</span>
<span class="p">)</span>
</pre></div>


<p>Print 'msg' to stdout if the global DEBUG (taken from the
DISTUTILS_DEBUG environment variable) flag is true.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">debug_print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;Print &#39;msg&#39; to stdout if the global DEBUG (taken from the</span>

<span class="sd">        DISTUTILS_DEBUG environment variable) flag is true.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span> <span class="nn">distutils.debug</span> <span class="kn">import</span> <span class="n">DEBUG</span>

        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span>

            <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</pre></div>


</details>
<h5 id="distribution_files">distribution_files</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">distribution_files</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</pre></div>


<p>Find distribution packages.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">distribution_files</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">Iterator</span>[<span class="nv">str</span>]:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Find distribution packages.</span><span class="s2">&quot;&quot;&quot;</span>

        # <span class="nv">This</span> <span class="nv">is</span> <span class="nv">verbatim</span> <span class="nv">from</span> <span class="nv">flake8</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">packages</span>:

            <span class="nv">package_dirs</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">package_dir</span> <span class="nv">or</span> {}

            <span class="k">for</span> <span class="nv">package</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">packages</span>:

                <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package</span>

                <span class="k">if</span> <span class="nv">package</span> <span class="nv">in</span> <span class="nv">package_dirs</span>:

                    <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package_dirs</span>[<span class="nv">package</span>]

                <span class="nv">elif</span> <span class="s2">&quot;&quot;</span> <span class="nv">in</span> <span class="nv">package_dirs</span>:

                    <span class="nv">pkg_dir</span> <span class="o">=</span> <span class="nv">package_dirs</span>[<span class="s2">&quot;&quot;</span>] <span class="o">+</span> <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">sep</span> <span class="o">+</span> <span class="nv">pkg_dir</span>

                <span class="nv">yield</span> <span class="nv">pkg_dir</span>.<span class="nv">replace</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">.</span><span class="s2">&quot;</span>, <span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">sep</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">py_modules</span>:

            <span class="k">for</span> <span class="nv">filename</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">py_modules</span>:

                <span class="nv">yield</span> <span class="s2">&quot;</span><span class="s">%s.py</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nv">filename</span>

        # <span class="nv">Don</span><span class="s1">&#39;</span><span class="s">t miss the setup.py file itself</span>

        <span class="nv">yield</span> <span class="s2">&quot;</span><span class="s">setup.py</span><span class="s2">&quot;</span>
</pre></div>


</details>
<h5 id="dump_options">dump_options</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">dump_options</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">indent</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="s s-Atom">def</span> <span class="nf">dump_options</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">header</span><span class="o">=</span><span class="nv">None</span><span class="p">,</span> <span class="s s-Atom">indent=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="s s-Atom">:</span>

        <span class="s s-Atom">from</span> <span class="s s-Atom">distutils</span><span class="p">.</span><span class="s s-Atom">fancy_getopt</span> <span class="s s-Atom">import</span> <span class="s s-Atom">longopt_xlate</span>

        <span class="s s-Atom">if</span> <span class="s s-Atom">header</span> <span class="o">is</span> <span class="nv">None</span><span class="s s-Atom">:</span>

            <span class="s s-Atom">header</span> <span class="o">=</span> <span class="s2">&quot;command options for &#39;%s&#39;:&quot;</span> <span class="c1">% self.get_command_name()</span>

        <span class="s s-Atom">self</span><span class="p">.</span><span class="nf">announce</span><span class="p">(</span><span class="s s-Atom">indent</span> <span class="o">+</span> <span class="s s-Atom">header</span><span class="p">,</span> <span class="s s-Atom">level</span><span class="o">=</span><span class="s s-Atom">log</span><span class="p">.</span><span class="nv">INFO</span><span class="p">)</span>

        <span class="s s-Atom">indent</span> <span class="o">=</span> <span class="s s-Atom">indent</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span>

        <span class="nf">for</span> <span class="p">(</span><span class="s s-Atom">option</span><span class="p">,</span> <span class="k">_</span><span class="p">,</span> <span class="k">_</span><span class="p">)</span> <span class="s s-Atom">in</span> <span class="s s-Atom">self</span><span class="p">.</span><span class="s s-Atom">user_options:</span>

            <span class="s s-Atom">option</span> <span class="o">=</span> <span class="s s-Atom">option</span><span class="p">.</span><span class="nf">translate</span><span class="p">(</span><span class="s s-Atom">longopt_xlate</span><span class="p">)</span>

            <span class="s s-Atom">if</span> <span class="s s-Atom">option</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;=&quot;</span><span class="s s-Atom">:</span>

                <span class="s s-Atom">option</span> <span class="o">=</span> <span class="s s-Atom">option</span><span class="p">[:-</span><span class="mi">1</span><span class="p">]</span>

            <span class="s s-Atom">value</span> <span class="o">=</span> <span class="nf">getattr</span><span class="p">(</span><span class="s s-Atom">self</span><span class="p">,</span> <span class="s s-Atom">option</span><span class="p">)</span>

            <span class="s s-Atom">self</span><span class="p">.</span><span class="nf">announce</span><span class="p">(</span><span class="s s-Atom">indent</span> <span class="o">+</span> <span class="s2">&quot;%s = %s&quot;</span> <span class="c1">% (option, value),</span>

                          <span class="s s-Atom">level</span><span class="o">=</span><span class="s s-Atom">log</span><span class="p">.</span><span class="nv">INFO</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="ensure_dirname">ensure_dirname</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ensure_dirname</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">option</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="n">def</span> <span class="n">ensure_dirname</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">option</span><span class="p">):</span>

        <span class="k">self</span><span class="p">.</span><span class="n">_ensure_tested_string</span><span class="p">(</span><span class="k">option</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">,</span>

                                   <span class="ss">&quot;directory name&quot;</span><span class="p">,</span>

                                   <span class="ss">&quot;&#39;%s&#39; does not exist or is not a directory&quot;</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="ensure_filename">ensure_filename</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ensure_filename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">option</span>
<span class="p">)</span>
</pre></div>


<p>Ensure that 'option' is the name of an existing file.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="n">def</span> <span class="n">ensure_filename</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="k">option</span><span class="p">):</span>

        <span class="ss">&quot;&quot;&quot;Ensure that &#39;option&#39; is the name of an existing file.&quot;&quot;&quot;</span>

        <span class="k">self</span><span class="p">.</span><span class="n">_ensure_tested_string</span><span class="p">(</span><span class="k">option</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isfile</span><span class="p">,</span>

                                   <span class="ss">&quot;filename&quot;</span><span class="p">,</span>

                                   <span class="ss">&quot;&#39;%s&#39; does not exist or is not a file&quot;</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="ensure_finalized">ensure_finalized</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ensure_finalized</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">ensure_finalized</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">not</span> <span class="nv">self</span>.<span class="nv">finalized</span>:

            <span class="nv">self</span>.<span class="nv">finalize_options</span><span class="ss">()</span>

        <span class="nv">self</span>.<span class="nv">finalized</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>


</details>
<h5 id="ensure_string">ensure_string</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ensure_string</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">option</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</pre></div>


<p>Ensure that 'option' is a string; if not defined, set it to
'default'.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">ensure_string</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">option</span>, <span class="nv">default</span><span class="o">=</span><span class="nv">None</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Ensure that &#39;option&#39; is a string; if not defined, set it to</span>

        <span class="s1">&#39;</span><span class="s">default</span><span class="s1">&#39;</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">self</span>.<span class="nv">_ensure_stringlike</span><span class="ss">(</span><span class="nv">option</span>, <span class="s2">&quot;</span><span class="s">string</span><span class="s2">&quot;</span>, <span class="nv">default</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="ensure_string_list">ensure_string_list</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ensure_string_list</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">option</span>
<span class="p">)</span>
</pre></div>


<p>Ensure that 'option' is a list of strings.  If 'option' is
currently a string, we split it either on /,\s*/ or /\s+/, so
"foo bar baz", "foo,bar,baz", and "foo,   bar baz" all become
["foo", "bar", "baz"].</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">ensure_string_list</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">option</span><span class="ss">)</span>:

        <span class="nv">r</span><span class="s2">&quot;&quot;&quot;</span><span class="s">Ensure that &#39;option&#39; is a list of strings.  If &#39;option&#39; is</span>

        <span class="nv">currently</span> <span class="nv">a</span> <span class="nv">string</span>, <span class="nv">we</span> <span class="nv">split</span> <span class="nv">it</span> <span class="nv">either</span> <span class="nv">on</span> <span class="o">/</span>,\<span class="nv">s</span><span class="o">*/</span> <span class="nv">or</span> <span class="o">/</span>\<span class="nv">s</span><span class="o">+/</span>, <span class="nv">so</span>

        <span class="s2">&quot;</span><span class="s">foo bar baz</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">foo,bar,baz</span><span class="s2">&quot;</span>, <span class="nv">and</span> <span class="s2">&quot;</span><span class="s">foo,   bar baz</span><span class="s2">&quot;</span> <span class="nv">all</span> <span class="nv">become</span>

        [<span class="s2">&quot;</span><span class="s">foo</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">bar</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">baz</span><span class="s2">&quot;</span>].

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">val</span> <span class="o">=</span> <span class="nv">getattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">option</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">val</span> <span class="nv">is</span> <span class="nv">None</span>:

            <span class="k">return</span>

        <span class="nv">elif</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">val</span>, <span class="nv">string_types</span><span class="ss">)</span>:

            <span class="nv">setattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">option</span>, <span class="nv">re</span>.<span class="nv">split</span><span class="ss">(</span><span class="nv">r</span><span class="s1">&#39;</span><span class="s">,\s*|\s+</span><span class="s1">&#39;</span>, <span class="nv">val</span><span class="ss">))</span>

        <span class="k">else</span>:

            <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">val</span>, <span class="nv">list</span><span class="ss">)</span>:

                <span class="nv">ok</span> <span class="o">=</span> <span class="nv">all</span><span class="ss">(</span><span class="nv">isinstance</span><span class="ss">(</span><span class="nv">v</span>, <span class="nv">string_types</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">v</span> <span class="nv">in</span> <span class="nv">val</span><span class="ss">)</span>

            <span class="k">else</span>:

                <span class="nv">ok</span> <span class="o">=</span> <span class="nv">False</span>

            <span class="k">if</span> <span class="nv">not</span> <span class="nv">ok</span>:

                <span class="nv">raise</span> <span class="nv">DistutilsOptionError</span><span class="ss">(</span>

                      <span class="s2">&quot;</span><span class="s">&#39;%s&#39; must be a list of strings (got %r)</span><span class="s2">&quot;</span>

                      <span class="o">%</span> <span class="ss">(</span><span class="nv">option</span>, <span class="nv">val</span><span class="ss">))</span>
</pre></div>


</details>
<h5 id="execute">execute</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">func</span><span class="p">,</span>
    <span class="n">args</span><span class="p">,</span>
    <span class="n">msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="n">def</span> <span class="k">execute</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="k">None</span><span class="p">,</span> <span class="k">level</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>

        <span class="n">util</span><span class="p">.</span><span class="k">execute</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="k">self</span><span class="p">.</span><span class="n">dry_run</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="finalize_options">finalize_options</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">finalize_options</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>


<p>Get options from config files.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">finalize_options</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="s2">&quot;</span><span class="s">Get options from config files.</span><span class="s2">&quot;</span>

        <span class="nv">self</span>.<span class="nv">arguments</span> <span class="o">=</span> {}  # <span class="nv">type</span>: <span class="nv">Dict</span>[<span class="nv">str</span>, <span class="nv">Any</span>]

        <span class="nv">computed_settings</span> <span class="o">=</span> <span class="nv">from_path</span><span class="ss">(</span><span class="nv">os</span>.<span class="nv">getcwd</span><span class="ss">())</span>

        <span class="k">for</span> <span class="nv">key</span>, <span class="nv">value</span> <span class="nv">in</span> <span class="nv">computed_settings</span>.<span class="nv">items</span><span class="ss">()</span>:

            <span class="nv">self</span>.<span class="nv">arguments</span>[<span class="nv">key</span>] <span class="o">=</span> <span class="nv">value</span>
</pre></div>


</details>
<h5 id="get_command_name">get_command_name</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_command_name</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">get_command_name</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:

        <span class="k">if</span> <span class="nv">hasattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="s1">&#39;</span><span class="s">command_name</span><span class="s1">&#39;</span><span class="ss">)</span>:

            <span class="k">return</span> <span class="nv">self</span>.<span class="nv">command_name</span>

        <span class="k">else</span>:

            <span class="k">return</span> <span class="nv">self</span>.<span class="nv">__class__</span>.<span class="nv">__name__</span>
</pre></div>


</details>
<h5 id="get_finalized_command">get_finalized_command</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_finalized_command</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">command</span><span class="p">,</span>
    <span class="n">create</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Wrapper around Distribution's 'get_command_obj()' method: find
(create if necessary and 'create' is true) the command object for
'command', call its 'ensure_finalized()' method, and return the
finalized command object.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">get_finalized_command</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">command</span>, <span class="nv">create</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Wrapper around Distribution&#39;s &#39;get_command_obj()&#39; method: find</span>

        <span class="ss">(</span><span class="nv">create</span> <span class="k">if</span> <span class="nv">necessary</span> <span class="nv">and</span> <span class="s1">&#39;</span><span class="s">create</span><span class="s1">&#39;</span> <span class="nv">is</span> <span class="nv">true</span><span class="ss">)</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">object</span> <span class="k">for</span>

        <span class="s1">&#39;</span><span class="s">command</span><span class="s1">&#39;</span>, <span class="k">call</span> <span class="nl">its</span> <span class="s1">&#39;</span><span class="s">ensure_finalized()</span><span class="s1">&#39;</span> <span class="nv">method</span>, <span class="nv">and</span> <span class="k">return</span> <span class="nv">the</span>

        <span class="nv">finalized</span> <span class="nv">command</span> <span class="nv">object</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">cmd_obj</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">get_command_obj</span><span class="ss">(</span><span class="nv">command</span>, <span class="nv">create</span><span class="ss">)</span>

        <span class="nv">cmd_obj</span>.<span class="nv">ensure_finalized</span><span class="ss">()</span>

        <span class="k">return</span> <span class="nv">cmd_obj</span>
</pre></div>


</details>
<h5 id="get_sub_commands">get_sub_commands</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_sub_commands</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</pre></div>


<p>Determine the sub-commands that are relevant in the current
distribution (ie., that need to be run).  This is based on the
'sub_commands' class attribute: each tuple in that list may include
a method that we call to determine if the subcommand needs to be
run for the current distribution.  Return a list of command names.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">get_sub_commands</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Determine the sub-commands that are relevant in the current</span>

        <span class="nv">distribution</span> <span class="ss">(</span><span class="nv">ie</span>., <span class="nv">that</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">run</span><span class="ss">)</span>.  <span class="nv">This</span> <span class="nv">is</span> <span class="nv">based</span> <span class="nv">on</span> <span class="nv">the</span>

        <span class="s1">&#39;</span><span class="s">sub_commands</span><span class="s1">&#39;</span> <span class="nv">class</span> <span class="nv">attribute</span>: <span class="nv">each</span> <span class="nv">tuple</span> <span class="nv">in</span> <span class="nv">that</span> <span class="nv">list</span> <span class="nv">may</span> <span class="k">include</span>

        <span class="nv">a</span> <span class="nv">method</span> <span class="nv">that</span> <span class="nv">we</span> <span class="k">call</span> <span class="nl">to</span> <span class="nv">determine</span> <span class="k">if</span> <span class="nv">the</span> <span class="nv">subcommand</span> <span class="nv">needs</span> <span class="nv">to</span> <span class="nv">be</span>

        <span class="nv">run</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">distribution</span>.  <span class="k">Return</span> <span class="nv">a</span> <span class="nv">list</span> <span class="nv">of</span> <span class="nv">command</span> <span class="nv">names</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">commands</span> <span class="o">=</span> []

        <span class="k">for</span> <span class="ss">(</span><span class="nv">cmd_name</span>, <span class="nv">method</span><span class="ss">)</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">sub_commands</span>:

            <span class="k">if</span> <span class="nv">method</span> <span class="nv">is</span> <span class="nv">None</span> <span class="nv">or</span> <span class="nv">method</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:

                <span class="nv">commands</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">cmd_name</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">commands</span>
</pre></div>


</details>
<h5 id="initialize_options">initialize_options</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">initialize_options</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>


<p>Set default values for all the options that this command
supports.  Note that these defaults may be overridden by other
commands, by the setup script, by config files, or by the
command-line.  Thus, this is not the place to code dependencies
between options; generally, 'initialize_options()' implementations
are just a bunch of "self.foo = None" assignments.</p>
<p>This method must be implemented by all command classes.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">initialize_options</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="nv">default_settings</span> <span class="o">=</span> <span class="nv">default</span>.<span class="nv">copy</span><span class="ss">()</span>

        <span class="k">for</span> <span class="nv">key</span>, <span class="nv">value</span> <span class="nv">in</span> <span class="nv">default_settings</span>.<span class="nv">items</span><span class="ss">()</span>:

            <span class="nv">setattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">key</span>, <span class="nv">value</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="make_archive">make_archive</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">make_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">base_name</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">,</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">base_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">owner</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">group</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">make_archive</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">base_name</span>, <span class="nv">format</span>, <span class="nv">root_dir</span><span class="o">=</span><span class="nv">None</span>, <span class="nv">base_dir</span><span class="o">=</span><span class="nv">None</span>,

                     <span class="nv">owner</span><span class="o">=</span><span class="nv">None</span>, <span class="nv">group</span><span class="o">=</span><span class="nv">None</span><span class="ss">)</span>:

        <span class="k">return</span> <span class="nv">archive_util</span>.<span class="nv">make_archive</span><span class="ss">(</span><span class="nv">base_name</span>, <span class="nv">format</span>, <span class="nv">root_dir</span>, <span class="nv">base_dir</span>,

                                         <span class="nv">dry_run</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">dry_run</span>,

                                         <span class="nv">owner</span><span class="o">=</span><span class="nv">owner</span>, <span class="nv">group</span><span class="o">=</span><span class="nv">group</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="make_file">make_file</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">make_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">infiles</span><span class="p">,</span>
    <span class="n">outfile</span><span class="p">,</span>
    <span class="n">func</span><span class="p">,</span>
    <span class="n">args</span><span class="p">,</span>
    <span class="n">exec_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">skip_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Special case of 'execute()' for operations that process one or
more input files and generate one output file.  Works just like
'execute()', except the operation is skipped and a different
message printed if 'outfile' already exists and is newer than all
files listed in 'infiles'.  If the command defined 'self.force',
and it is true, then the command is unconditionally run -- does no
timestamp checks.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">make_file</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">infiles</span>, <span class="nv">outfile</span>, <span class="nv">func</span>, <span class="nv">args</span>,

                  <span class="nv">exec_msg</span><span class="o">=</span><span class="nv">None</span>, <span class="nv">skip_msg</span><span class="o">=</span><span class="nv">None</span>, <span class="nv">level</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Special case of &#39;execute()&#39; for operations that process one or</span>

        <span class="nv">more</span> <span class="nv">input</span> <span class="nv">files</span> <span class="nv">and</span> <span class="nv">generate</span> <span class="nv">one</span> <span class="nv">output</span> <span class="nv">file</span>.  <span class="nv">Works</span> <span class="nv">just</span> <span class="nv">like</span>

        <span class="s1">&#39;</span><span class="s">execute()</span><span class="s1">&#39;</span>, <span class="nv">except</span> <span class="nv">the</span> <span class="nv">operation</span> <span class="nv">is</span> <span class="nv">skipped</span> <span class="nv">and</span> <span class="nv">a</span> <span class="nv">different</span>

        <span class="nv">message</span> <span class="nv">printed</span> <span class="k">if</span> <span class="s1">&#39;</span><span class="s">outfile</span><span class="s1">&#39;</span> <span class="nv">already</span> <span class="nv">exists</span> <span class="nv">and</span> <span class="nv">is</span> <span class="nv">newer</span> <span class="nv">than</span> <span class="nv">all</span>

        <span class="nv">files</span> <span class="nv">listed</span> <span class="nv">in</span> <span class="s1">&#39;</span><span class="s">infiles</span><span class="s1">&#39;</span>.  <span class="k">If</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">defined</span> <span class="s1">&#39;</span><span class="s">self.force</span><span class="s1">&#39;</span>,

        <span class="nv">and</span> <span class="nv">it</span> <span class="nv">is</span> <span class="nv">true</span>, <span class="k">then</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">is</span> <span class="nv">unconditionally</span> <span class="nv">run</span> <span class="o">--</span> <span class="nv">does</span> <span class="nv">no</span>

        <span class="nv">timestamp</span> <span class="nv">checks</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nv">skip_msg</span> <span class="nv">is</span> <span class="nv">None</span>:

            <span class="nv">skip_msg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">skipping %s (inputs unchanged)</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nv">outfile</span>

        # <span class="nv">Allow</span> <span class="s1">&#39;</span><span class="s">infiles</span><span class="s1">&#39;</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">a</span> <span class="nv">single</span> <span class="nv">string</span>

        <span class="k">if</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">infiles</span>, <span class="nv">str</span><span class="ss">)</span>:

            <span class="nv">infiles</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">infiles</span>,<span class="ss">)</span>

        <span class="nv">elif</span> <span class="nv">not</span> <span class="nv">isinstance</span><span class="ss">(</span><span class="nv">infiles</span>, <span class="ss">(</span><span class="nv">list</span>, <span class="nv">tuple</span><span class="ss">))</span>:

            <span class="nv">raise</span> <span class="nv">TypeError</span><span class="ss">(</span>

                  <span class="s2">&quot;</span><span class="s">&#39;infiles&#39; must be a string, or a list or tuple of strings</span><span class="s2">&quot;</span><span class="ss">)</span>

        <span class="k">if</span> <span class="nv">exec_msg</span> <span class="nv">is</span> <span class="nv">None</span>:

            <span class="nv">exec_msg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">generating %s from %s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="ss">(</span><span class="nv">outfile</span>, <span class="s1">&#39;</span><span class="s">, </span><span class="s1">&#39;</span>.<span class="nv">join</span><span class="ss">(</span><span class="nv">infiles</span><span class="ss">))</span>

        # <span class="k">If</span> <span class="s1">&#39;</span><span class="s">outfile</span><span class="s1">&#39;</span> <span class="nv">must</span> <span class="nv">be</span> <span class="nv">regenerated</span> <span class="ss">(</span><span class="nv">either</span> <span class="nv">because</span> <span class="nv">it</span> <span class="nv">doesn</span><span class="s1">&#39;</span><span class="s">t</span>

        # <span class="nv">exist</span>, <span class="nv">is</span> <span class="nv">out</span><span class="o">-</span><span class="nv">of</span><span class="o">-</span><span class="nv">date</span>, <span class="nv">or</span> <span class="nv">the</span> <span class="s1">&#39;</span><span class="s">force</span><span class="s1">&#39;</span> <span class="nv">flag</span> <span class="nv">is</span> <span class="nv">true</span><span class="ss">)</span> <span class="k">then</span>

        # <span class="nv">perform</span> <span class="nv">the</span> <span class="nv">action</span> <span class="nv">that</span> <span class="nv">presumably</span> <span class="nv">regenerates</span> <span class="nv">it</span>

        <span class="k">if</span> <span class="nv">self</span>.<span class="nv">force</span> <span class="nv">or</span> <span class="nv">dep_util</span>.<span class="nv">newer_group</span><span class="ss">(</span><span class="nv">infiles</span>, <span class="nv">outfile</span><span class="ss">)</span>:

            <span class="nv">self</span>.<span class="nv">execute</span><span class="ss">(</span><span class="nv">func</span>, <span class="nv">args</span>, <span class="nv">exec_msg</span>, <span class="nv">level</span><span class="ss">)</span>

        # <span class="nv">Otherwise</span>, <span class="nv">print</span> <span class="nv">the</span> <span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span> <span class="nv">message</span>

        <span class="k">else</span>:

            <span class="nv">log</span>.<span class="nv">debug</span><span class="ss">(</span><span class="nv">skip_msg</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="mkpath">mkpath</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">mkpath</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="mi">511</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="n">def</span> <span class="n">mkpath</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">mode</span><span class="o">=</span><span class="mi">0</span><span class="n">o777</span><span class="p">):</span>

        <span class="n">dir_util</span><span class="p">.</span><span class="n">mkpath</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="k">mode</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="k">self</span><span class="p">.</span><span class="n">dry_run</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="move_file">move_file</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">move_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">src</span><span class="p">,</span>
    <span class="n">dst</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Move a file respecting dry-run flag.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">move_file</span> <span class="ss">(</span><span class="nv">self</span>, <span class="nv">src</span>, <span class="nv">dst</span>, <span class="nv">level</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Move a file respecting dry-run flag.</span><span class="s2">&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nv">file_util</span>.<span class="nv">move_file</span><span class="ss">(</span><span class="nv">src</span>, <span class="nv">dst</span>, <span class="nv">dry_run</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">dry_run</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="reinitialize_command">reinitialize_command</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">reinitialize_command</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">command</span><span class="p">,</span>
    <span class="n">reinit_subcommands</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kw</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">reinitialize_command</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">command</span>, <span class="nv">reinit_subcommands</span><span class="o">=</span><span class="mi">0</span>, <span class="o">**</span><span class="nv">kw</span><span class="ss">)</span>:

        <span class="nv">cmd</span> <span class="o">=</span> <span class="nv">_Command</span>.<span class="nv">reinitialize_command</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">command</span>, <span class="nv">reinit_subcommands</span><span class="ss">)</span>

        <span class="nv">vars</span><span class="ss">(</span><span class="nv">cmd</span><span class="ss">)</span>.<span class="nv">update</span><span class="ss">(</span><span class="nv">kw</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">cmd</span>
</pre></div>


</details>
<h5 id="run">run</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>


<p>A command's raison d'etre: carry out the action it exists to
perform, controlled by the options initialized in
'initialize_options()', customized by other commands, the setup
script, the command-line, and config files, and finalized in
'finalize_options()'.  All terminal output and filesystem
interaction should be done by 'run()'.</p>
<p>This method must be implemented by all command classes.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">run</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">None</span>:

        <span class="nv">arguments</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">arguments</span>

        <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">False</span>

        <span class="nv">arguments</span>[<span class="s2">&quot;</span><span class="s">check</span><span class="s2">&quot;</span>] <span class="o">=</span> <span class="nv">True</span>

        <span class="k">for</span> <span class="nv">path</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">distribution_files</span><span class="ss">()</span>:

            <span class="k">for</span> <span class="nv">python_file</span> <span class="nv">in</span> <span class="nv">glob</span>.<span class="nv">iglob</span><span class="ss">(</span><span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">join</span><span class="ss">(</span><span class="nv">path</span>, <span class="s2">&quot;</span><span class="s">*.py</span><span class="s2">&quot;</span><span class="ss">))</span>:

                <span class="nv">try</span>:

                    <span class="nv">incorrectly_sorted</span> <span class="o">=</span> <span class="nv">SortImports</span><span class="ss">(</span>

                        <span class="nv">python_file</span>, <span class="o">**</span><span class="nv">arguments</span>

                    <span class="ss">)</span>.<span class="nv">incorrectly_sorted</span>

                    <span class="k">if</span> <span class="nv">incorrectly_sorted</span>:

                        <span class="nv">wrong_sorted_files</span> <span class="o">=</span> <span class="nv">True</span>

                <span class="nv">except</span> <span class="nv">OSError</span> <span class="nv">as</span> <span class="nv">e</span>:

                    <span class="nv">print</span><span class="ss">(</span>

                        <span class="s2">&quot;</span><span class="s">WARNING: Unable to parse file {} due to {}</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span>

                            <span class="nv">python_file</span>, <span class="nv">e</span>

                        <span class="ss">)</span>

                    <span class="ss">)</span>

        <span class="k">if</span> <span class="nv">wrong_sorted_files</span>:

            <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="run_command">run_command</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run_command</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">command</span>
<span class="p">)</span>
</pre></div>


<p>Run some other command: uses the 'run_command()' method of
Distribution, which creates and finalizes the command object if
necessary and then invokes its 'run()' method.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">run_command</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">command</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Run some other command: uses the &#39;run_command()&#39; method of</span>

        <span class="nv">Distribution</span>, <span class="nv">which</span> <span class="nv">creates</span> <span class="nv">and</span> <span class="nv">finalizes</span> <span class="nv">the</span> <span class="nv">command</span> <span class="nv">object</span> <span class="k">if</span>

        <span class="nv">necessary</span> <span class="nv">and</span> <span class="k">then</span> <span class="nv">invokes</span> <span class="nv">its</span> <span class="s1">&#39;</span><span class="s">run()</span><span class="s1">&#39;</span> <span class="nv">method</span>.

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">run_command</span><span class="ss">(</span><span class="nv">command</span><span class="ss">)</span>
</pre></div>


</details>
<h5 id="set_undefined_options">set_undefined_options</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_undefined_options</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">src_cmd</span><span class="p">,</span>
    <span class="o">*</span><span class="n">option_pairs</span>
<span class="p">)</span>
</pre></div>


<p>Set the values of any "undefined" options from corresponding
option values in some other command object.  "Undefined" here means
"is None", which is the convention used to indicate that an option
has not been changed between 'initialize_options()' and
'finalize_options()'.  Usually called from 'finalize_options()' for
options that depend on some other command rather than another
option of the same command.  'src_cmd' is the other command from
which option values will be taken (a command object will be created
for it if necessary); the remaining arguments are
'(src_option,dst_option)' tuples which mean "take the value of
'src_option' in the 'src_cmd' command object, and copy it to
'dst_option' in the current command object".</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="nv">def</span> <span class="nv">set_undefined_options</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">src_cmd</span>, <span class="o">*</span><span class="nv">option_pairs</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span><span class="s">Set the values of any </span><span class="s2">&quot;</span><span class="nv">undefined</span><span class="s2">&quot;</span><span class="s"> options from corresponding</span>

        <span class="nv">option</span> <span class="nv">values</span> <span class="nv">in</span> <span class="nv">some</span> <span class="nv">other</span> <span class="nv">command</span> <span class="nv">object</span>.  <span class="s2">&quot;</span><span class="s">Undefined</span><span class="s2">&quot;</span> <span class="nv">here</span> <span class="nv">means</span>

        <span class="s2">&quot;</span><span class="s">is None</span><span class="s2">&quot;</span>, <span class="nv">which</span> <span class="nv">is</span> <span class="nv">the</span> <span class="nv">convention</span> <span class="nv">used</span> <span class="nv">to</span> <span class="nv">indicate</span> <span class="nv">that</span> <span class="nv">an</span> <span class="nv">option</span>

        <span class="nv">has</span> <span class="nv">not</span> <span class="nv">been</span> <span class="nv">changed</span> <span class="nv">between</span> <span class="s1">&#39;</span><span class="s">initialize_options()</span><span class="s1">&#39;</span> <span class="nv">and</span>

        <span class="s1">&#39;</span><span class="s">finalize_options()</span><span class="s1">&#39;</span>.  <span class="nv">Usually</span> <span class="nv">called</span> <span class="nv">from</span> <span class="s1">&#39;</span><span class="s">finalize_options()</span><span class="s1">&#39;</span> <span class="k">for</span>

        <span class="nv">options</span> <span class="nv">that</span> <span class="nv">depend</span> <span class="nv">on</span> <span class="nv">some</span> <span class="nv">other</span> <span class="nv">command</span> <span class="nv">rather</span> <span class="nv">than</span> <span class="nv">another</span>

        <span class="nv">option</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">command</span>.  <span class="s1">&#39;</span><span class="s">src_cmd</span><span class="s1">&#39;</span> <span class="nv">is</span> <span class="nv">the</span> <span class="nv">other</span> <span class="nv">command</span> <span class="nv">from</span>

        <span class="nv">which</span> <span class="nv">option</span> <span class="nv">values</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">taken</span> <span class="ss">(</span><span class="nv">a</span> <span class="nv">command</span> <span class="nv">object</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">created</span>

        <span class="k">for</span> <span class="nv">it</span> <span class="k">if</span> <span class="nv">necessary</span><span class="ss">)</span><span class="c1">; the remaining arguments are</span>

        <span class="s1">&#39;</span><span class="s">(src_option,dst_option)</span><span class="s1">&#39;</span> <span class="nv">tuples</span> <span class="nv">which</span> <span class="nv">mean</span> <span class="s2">&quot;</span><span class="s">take the value of</span>

        <span class="s1">&#39;</span><span class="s">src_option</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">the</span> <span class="s1">&#39;</span><span class="s">src_cmd</span><span class="s1">&#39;</span> <span class="nv">command</span> <span class="nv">object</span>, <span class="nv">and</span> <span class="nv">copy</span> <span class="nv">it</span> <span class="nv">to</span>

        <span class="s1">&#39;</span><span class="s">dst_option</span><span class="s1">&#39;</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">command</span> <span class="nv">object</span><span class="s2">&quot;</span><span class="s">.</span>

        <span class="s2">&quot;&quot;&quot;</span>

        # <span class="nv">Option_pairs</span>: <span class="nv">list</span> <span class="nv">of</span> <span class="ss">(</span><span class="nv">src_option</span>, <span class="nv">dst_option</span><span class="ss">)</span> <span class="nv">tuples</span>

        <span class="nv">src_cmd_obj</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">distribution</span>.<span class="nv">get_command_obj</span><span class="ss">(</span><span class="nv">src_cmd</span><span class="ss">)</span>

        <span class="nv">src_cmd_obj</span>.<span class="nv">ensure_finalized</span><span class="ss">()</span>

        <span class="k">for</span> <span class="ss">(</span><span class="nv">src_option</span>, <span class="nv">dst_option</span><span class="ss">)</span> <span class="nv">in</span> <span class="nv">option_pairs</span>:

            <span class="k">if</span> <span class="nv">getattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">dst_option</span><span class="ss">)</span> <span class="nv">is</span> <span class="nv">None</span>:

                <span class="nv">setattr</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">dst_option</span>, <span class="nv">getattr</span><span class="ss">(</span><span class="nv">src_cmd_obj</span>, <span class="nv">src_option</span><span class="ss">))</span>
</pre></div>


</details>
<h5 id="spawn">spawn</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">spawn</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">cmd</span><span class="p">,</span>
    <span class="n">search_path</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>


<p>Spawn an external command respecting dry-run flag.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">spawn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">search_path</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;Spawn an external command respecting dry-run flag.&quot;&quot;&quot;</span>

        <span class="kn">from</span> <span class="nn">distutils.spawn</span> <span class="kn">import</span> <span class="n">spawn</span>

        <span class="n">spawn</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">search_path</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span><span class="p">)</span>
</pre></div>


</details>
<h5 id="warn">warn</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">warn</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">msg</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span>    <span class="n">def</span> <span class="n">warn</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>

        <span class="n">log</span><span class="p">.</span><span class="n">warn</span><span class="p">(</span><span class="ss">&quot;warning: %s: %s\n&quot;</span><span class="p">,</span> <span class="k">self</span><span class="p">.</span><span class="n">get_command_name</span><span class="p">(),</span> <span class="n">msg</span><span class="p">)</span>
</pre></div>


</details>
<h3 id="sortattempt">SortAttempt</h3>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SortAttempt</span><span class="p">(</span>
    <span class="n">incorrectly_sorted</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">skipped</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">)</span>
</pre></div>


<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="k">class</span> <span class="n">SortAttempt:</span>

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>, <span class="n">incorrectly_sorted:</span> <span class="nb">bool</span>, <span class="n">skipped:</span> <span class="nb">bool</span>) -&gt; <span class="n">None:</span>

        <span class="k">self</span>.<span class="n">incorrectly_sorted</span> = <span class="n">incorrectly_sorted</span>

        <span class="k">self</span>.<span class="n">skipped</span> = <span class="n">skipped</span>
</pre></div>


</details>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../isort/" title="Isort" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Isort
              </span>
            </div>
          </a>
        
        
          <a href="../natural/" title="Natural" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Natural
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Powered by
        <a href="http://timothycrosley.github.io/portray">portray.</a>
        You too can
        <a href="http://timothycrosley.github.io/portray">
          portray</a>
        your Python project well using automatic documentation.
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>